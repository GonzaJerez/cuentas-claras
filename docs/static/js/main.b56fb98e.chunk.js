(this["webpackJsonpmi-patrimonio"]=this["webpackJsonpmi-patrimonio"]||[]).push([[0],{209:function(e,t,a){},210:function(e,t,a){"use strict";a.r(t);var n=a(36),c=a.n(n),r=a(10),o=a(11),s=a(4),i=a(28),u=a(23),l=a(21),d=a(39),b=a.n(d),j=a(1),m=a.n(j),p=a(2),v=a(19),h=a.n(v),O=a(17),f=a(82),x=a(85),g=Object(f.a)({apiKey:"AIzaSyBX0u1mqveILXYZTpAk7IYYZ1LpETpP-XQ",authDomain:"cuentas-claras-react.firebaseapp.com",projectId:"cuentas-claras-react",storageBucket:"cuentas-claras-react.appspot.com",messagingSenderId:"668234537938",appId:"1:668234537938:web:1e1d45c820953a6fd3860b",measurementId:"G-GZG5TZLLN9"}),C=(Object(x.a)(g),Object(O.f)()),N=new i.a,y="[Movimientos] Nuevo Ingreso",S="[Movimientos] Nuevo Gasto",_="[Movimientos] Nueva Transferencia",k="[Movimientos] Insertar Movimiento Activo",w="[Movimientos] Eliminar Movimiento Activo",A="[Movimientos] Actualizar Movimiento",P="[Movimientos] Eliminar Movimientos",I="[Movimientos] Nueva Deuda",E="[Movimientos] Nuevo Prestamo",F="[Movimientos] Editar Nombre Categoria",D="[Movimientos] Limpiar Movimientos",M="[Movimientos] Cargar Movimientos",T="[Modal] Open Modal",L="[Modal] Close Modal",V="[Cuentas] Agregar Cuenta",U="[Cuentas] Eliminar Cuenta",R="[Cuentas] Editar Cuenta",z="[Cuentas] Agregar Subcuenta",G="[Cuentas] Eliminar Subcuenta",B="[Cuentas] Editar Subcuenta",$="[Cuentas] Abrir Modo Edicion",q="[Cuentas] Cerrar Modo Edicion",H="[Cuentas] Insertar cuenta activa",Q="[Cuentas] Eliminar cuenta activa",X="[Cuentas] Limpiar Cuentas",Y="[Cuentas] Cargar Cuentas",Z="[Categorias] Agregar Categoria",J="[Categorias] Eliminar Categoria",K="[Categorias] Editar Categoria",W="[Categorias] Abrir Modo Edicion",ee="[Categorias] Cerrar Modo Edicion",te="[Categorias] Insertar Categoria activa",ae="[Categorias] Eliminar Categoria activa",ne="[Categorias] Limpiar Categorias",ce="[Categorias] Cargar Categorias",re="[Valores] Actualizar Valores",oe="[auth] Login",se="[auth] Logout",ie=a(8),ue=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)(Object(O.b)(C,"".concat(t,"/app/categorias")));case 2:return a=e.sent,n=[],a.forEach((function(e){n.push(Object(ie.a)(Object(ie.a)({},e.data()),{},{id:e.id}))})),n.sort((function(e,t){return e.nombre>t.nombre?1:-1})),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=[{nombre:"Materiales de cocina",tipo:"gasto",sector:"hogar"},{nombre:"Comida",tipo:"gasto",sector:"gastos varios"},{nombre:"Sueldo",tipo:"ingreso",sector:"ingresos varios"},{nombre:"Ventas",tipo:"ingreso",sector:"ingresos varios"},{nombre:"Luz",tipo:"gasto",sector:"servicios"},{nombre:"Gas",tipo:"gasto",sector:"servicios"},{nombre:"Netflix",tipo:"gasto",sector:"streaming"},{nombre:"Aporte inicial",tipo:"ingreso",sector:"Aporte inicial"},{nombre:"Intereses",tipo:"ingreso",sector:"Intereses"},{nombre:"Perdida",tipo:"gasto",sector:"Perdida"}],de=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=a().auth.uid,le.forEach(function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)(Object(O.b)(C,"".concat(n,"/app/categorias")),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},be=function(e){return{type:ce,payload:e}},je=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a,n){var c,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=n().auth.uid,t.next=4,Object(O.a)(Object(O.b)(C,"".concat(c,"/app/categorias")),e);case 4:r=t.sent,a(me(Object(ie.a)({id:r.id},e))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()},me=function(e){return{type:Z,payload:e}},pe=function(e){return{type:K,payload:e}},ve=function(){return{type:ee}},he=function(e){return{type:J,payload:e}},Oe=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)(Object(O.b)(C,"".concat(t,"/app/cuentas")));case 2:return a=e.sent,n=[],a.forEach((function(e){n.push(Object(ie.a)(Object(ie.a)({},e.data()),{},{id:e.id}))})),n.sort((function(e,t){return e.nombre>t.nombre?1:-1})),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=[{nombre:"ARS",subcuentas:["Efectivo","Banco HSBC","Mercado Pago"]},{nombre:"USD",subcuentas:["Efectivo","Banco HSBC","Plazo Fijo"]},{nombre:"BTC",subcuentas:["Binance","Decrypto"]},{nombre:"ETH",subcuentas:["Binance","Decrypto"]},{nombre:"Activos",subcuentas:["Auto","Moto","Casa","Terreno","Bici","NFTs"]},{nombre:"Otras criptomonedas",subcuentas:["Ethereum","Cardano"]}],xe=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=a().auth.uid,fe.forEach(function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)(Object(O.b)(C,"".concat(n,"/app/cuentas")),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},ge=function(e){return{type:Y,payload:e}},Ce=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a,n){var c,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=n().auth.uid,t.next=4,Object(O.a)(Object(O.b)(C,"".concat(c,"/app/cuentas")),e);case 4:r=t.sent,a(Ne(Object(ie.a)({id:r.id},e))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()},Ne=function(e){return{type:V,payload:e}},ye=function(e){return console.log(e),function(){var t=Object(p.a)(m.a.mark((function t(a,n){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=n().auth.uid,t.next=4,Object(O.g)(Object(O.d)(C,"".concat(c,"/app/cuentas/").concat(e.id)),e);case 4:a(Se(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},Se=function(e){return{type:z,payload:e}},_e=function(e){return{type:R,payload:e}},ke=function(e){return{type:B,payload:e}},we=function(){return{type:q}},Ae=function(e){return{type:U,payload:e}},Pe=function(e){return{type:G,payload:e}},Ie=function(e){return{type:H,payload:e}},Ee=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)(Object(O.b)(C,"".concat(t,"/app/movimientos")));case 2:return a=e.sent,n=[],a.forEach((function(e){n.push(Object(ie.a)(Object(ie.a)({},e.data()),{},{id:e.id,fecha:new Date(e.data().fecha)}))})),n.sort((function(e,t){return e.fecha>t.fecha?-1:1})),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(e,t){return function(){var a=Object(p.a)(m.a.mark((function a(n,c){var r,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=c().auth.uid,a.prev=1,a.next=4,Object(O.a)(Object(O.b)(C,"".concat(r,"/app/movimientos")),e);case 4:o=a.sent,"nuevoIngreso"===t&&n(De(Object(ie.a)(Object(ie.a)({id:o.id},e),{},{fecha:new Date(e.fecha)}))),"nuevoGasto"===t&&n(Me(Object(ie.a)(Object(ie.a)({id:o.id},e),{},{fecha:new Date(e.fecha)}))),"nuevaTransferencia"===t&&n(Te(Object(ie.a)(Object(ie.a)({id:o.id},e),{},{fecha:new Date(e.fecha)}))),"nuevoPrestamo"===t&&n(Ve(Object(ie.a)(Object(ie.a)({id:o.id},e),{},{fecha:new Date(e.fecha)}))),"nuevaDeuda"===t&&n(Le(Object(ie.a)(Object(ie.a)({id:o.id},e),{},{fecha:new Date(e.fecha)}))),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e,t){return a.apply(this,arguments)}}()},De=function(e){return{type:y,payload:e}},Me=function(e){return{type:S,payload:e}},Te=function(e){return{type:_,payload:e}},Le=function(e){return{type:I,payload:e}},Ve=function(e){return{type:E,payload:e}},Ue=function(e){return{type:k,payload:e}},Re=function(e){return{type:M,payload:e}},ze=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a,n){var c,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n().auth.uid,delete(r=Object(ie.a)({},e)).id,t.next=5,Object(O.g)(Object(O.d)(C,"".concat(c,"/app/movimientos/").concat(e.id)),r);case 5:a(Ge(Object(ie.a)(Object(ie.a)({},e),{},{fecha:new Date(e.fecha)})));case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},Ge=function(e){return{type:A,payload:e}},Be=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a,n){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n().auth.uid,t.next=3,Object(O.c)(Object(O.d)(C,"".concat(c,"/app/movimientos/").concat(e)));case 3:a($e(e));case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},$e=function(e){return{type:P,payload:e}},qe=function(e,t){return{type:oe,payload:{uid:e,userName:t}}},He=function(){return{type:se}},Qe=a(7),Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.useState)(e),a=Object(o.a)(t,2),n=a[0],c=a[1],r=function(e){c(Object(ie.a)(Object(ie.a)({},n),{},Object(Qe.a)({},e.target.name,e.target.value)))},i=function(e){c(Object(ie.a)(Object(ie.a)({},n),{},{fecha:e}))},u=function(e){c(Object(ie.a)(Object(ie.a)({},n),{},{from:Object(ie.a)(Object(ie.a)({},n.from),{},Object(Qe.a)({},e.target.name,e.target.value))}))},l=function(e){c(Object(ie.a)(Object(ie.a)({},n),{},{to:Object(ie.a)(Object(ie.a)({},n.to),{},Object(Qe.a)({},e.target.name,e.target.value))}))};return[n,r,i,u,l]},Ye=a(0),Ze=function(e){var t=e.handleChangeScreen,a=Object(r.b)(),n=Object(s.useState)(!1),c=Object(o.a)(n,2),u=c[0],l=c[1],d=Xe({email:"",pass:""}),j=Object(o.a)(d,2),v=j[0],O=j[1],f=function(){return!!b.a.isEmail(v.email1.trim())||(l("Email invalido"),!1)};return Object(Ye.jsxs)("div",{className:"auth__container flip-scale-up-ver",children:[Object(Ye.jsx)("div",{className:"img-user",children:Object(Ye.jsx)("i",{className:"bi bi-person"})}),Object(Ye.jsx)("h1",{children:"Cuentas claras"}),u&&Object(Ye.jsx)("div",{className:"form__error",children:Object(Ye.jsx)("p",{className:"msg-error",children:u})}),Object(Ye.jsxs)("form",{onSubmit:function(e){var t,n;e.preventDefault(),f&&a((t=v.email,n=v.pass,function(){var e=Object(p.a)(m.a.mark((function e(a){var c,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(i.c)(),e.next=4,Object(i.e)(c,t,n);case 4:r=e.sent,o=r.user,a(qe(o.uid,o.displayName)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),"auth/wrong-password"===e.t0.code&&h.a.fire("Contrase\xf1a incorrecta","Usuario y contrase\xf1a no coinciden","error"),"auth/user-not-found"===e.t0.code&&h.a.fire("Email incorrecto","Usuario no encontrado","error");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(Ye.jsxs)("div",{className:"form-floating mb-3",children:[Object(Ye.jsx)("input",{name:"email",value:v.email,onChange:O,type:"email",className:"form-control",id:"floatingInput",placeholder:"Email usuario"}),Object(Ye.jsx)("label",{htmlFor:"floatingInput",children:"Email usuario"})]}),Object(Ye.jsxs)("div",{className:"form-floating",children:[Object(Ye.jsx)("input",{name:"pass",value:v.pass,onChange:O,type:"password",className:"form-control",id:"floatingPassword",placeholder:"Password"}),Object(Ye.jsx)("label",{htmlFor:"floatingPassword",children:"Password"})]}),Object(Ye.jsx)("button",{type:"submit",className:"btn submit",children:"Ingresar"}),Object(Ye.jsxs)("div",{className:"auth__social-networks",children:[Object(Ye.jsx)("p",{children:"Ingresar con Google"}),Object(Ye.jsxs)("div",{className:"google-btn",onClick:function(e){e.preventDefault(),a(function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(i.c)(),e.next=3,Object(i.f)(n,N);case 3:c=e.sent,r=c.user,t(qe(r.uid,r.displayName)),localStorage.getItem("clientGoogle")||(t(de()),t(xe()),localStorage.setItem("clientGoogle",!0));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},children:[Object(Ye.jsx)("div",{className:"google-icon-wrapper",children:Object(Ye.jsx)("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google button"})}),Object(Ye.jsx)("p",{className:"btn-text",children:"Sign in with google"})]})]}),Object(Ye.jsx)("button",{className:"btn change",onClick:t,children:"\xbfNo est\xe1s registrado? Registrate ahora"})]})]})},Je=function(e){var t=e.handleChangeScreen,a=Object(s.useState)(!1),n=Object(o.a)(a,2),c=n[0],u=n[1],l=Object(r.b)(),d=Xe({nombre:"",email1:"",email2:"",pass1:"",pass2:""}),j=Object(o.a)(d,2),v=j[0],O=j[1];return Object(Ye.jsxs)("div",{className:"auth__container flip-scale-up-ver",children:[Object(Ye.jsx)("div",{className:"img-user",children:Object(Ye.jsx)("i",{className:"bi bi-person"})}),Object(Ye.jsx)("h1",{children:"Cuentas claras"}),c&&Object(Ye.jsx)("div",{className:"form__error",children:Object(Ye.jsx)("p",{className:"msg-error",children:c})}),Object(Ye.jsxs)("form",{onSubmit:function(e){var t,a,n;e.preventDefault(),(v.nombre.trim().length<3||!b.a.isAlpha(v.nombre.trim(),["es-ES"])?(u("Nombre invalido"),0):b.a.isEmail(v.email1.trim())?v.email2.trim()!==v.email1.trim()?(u("Los emails deben ser iguales"),0):b.a.isStrongPassword(v.pass1.trim(),{minLength:5,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:0})?v.pass1===v.pass2||(u("Las contrase\xf1as deben ser iguales"),0):(u("La contrase\xf1a debe tener al menos 5 caracteres, mayusculas, minusculas y numeros"),0):(u("Email invalido"),0))&&(l((t=v.nombre,a=v.email1,n=v.pass1,function(){var e=Object(p.a)(m.a.mark((function e(c){var r,o,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(i.c)(),e.next=4,Object(i.b)(r,a,n);case 4:return o=e.sent,s=o.user,e.next=8,Object(i.h)(s,{displayName:t});case 8:c(qe(s.uid,t)),localStorage.getItem("clientEmail")||(c(de()),c(xe()),localStorage.setItem("clientEmail",!0)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),"auth/email-already-in-use"===e.t0.code&&h.a.fire("Ups","Ya existe una cuenta con ese mail","error");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}())),u(!1))},children:[Object(Ye.jsxs)("div",{className:"form-floating mb-3",children:[Object(Ye.jsx)("input",{autoComplete:"off",name:"nombre",value:v.nombre,onChange:O,type:"text",className:"form-control",id:"floatingInputName",required:!0,placeholder:"Ingrese su nombre"}),Object(Ye.jsx)("label",{htmlFor:"floatingInputName",children:"Ingrese su nombre"})]}),Object(Ye.jsxs)("div",{className:"form-floating mb-3",children:[Object(Ye.jsx)("input",{autoComplete:"off",name:"email1",value:v.email1,onChange:O,type:"email",className:"form-control",id:"floatingInputEmail1",required:!0,placeholder:"Ingrese su email"}),Object(Ye.jsx)("label",{htmlFor:"floatingInputEmail1",children:"Ingrese su email"})]}),Object(Ye.jsxs)("div",{className:"form-floating mb-3",children:[Object(Ye.jsx)("input",{autoComplete:"off",name:"email2",value:v.email2,onChange:O,type:"email",className:"form-control",id:"floatingInputEmail2",required:!0,placeholder:"Confirmar email"}),Object(Ye.jsx)("label",{htmlFor:"floatingInputEmail2",children:"Confirmar email"})]}),Object(Ye.jsxs)("div",{className:"form-floating",children:[Object(Ye.jsx)("input",{name:"pass1",value:v.pass1,onChange:O,type:"password",className:"form-control",id:"floatingPassword1",required:!0,placeholder:"Password"}),Object(Ye.jsx)("label",{htmlFor:"floatingPassword1",children:"Password"})]}),Object(Ye.jsxs)("div",{className:"form-floating",children:[Object(Ye.jsx)("input",{name:"pass2",value:v.pass2,onChange:O,type:"password",className:"form-control",id:"floatingPassword2",required:!0,placeholder:"Confirmar password"}),Object(Ye.jsx)("label",{htmlFor:"floatingPassword2",children:"Confirmar password"})]}),Object(Ye.jsx)("button",{type:"submit",className:"btn submit",children:"Registrarse"}),Object(Ye.jsx)("button",{className:"btn change",onClick:t,children:"\xbfYa est\xe1s registrado? Ingresa con tu cuenta"})]})]})},Ke=function(){var e=Object(s.useState)("login"),t=Object(o.a)(e,2),a=t[0],n=t[1],c=function(e){e.preventDefault(),n("login"===a?"register":"login")};return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("img",{className:"img-fondo",src:"https://www.billin.net/blog/wp-content/uploads/2020/09/Libro-mayor-1140x760.jpg",alt:"fondo-contabilidad"}),Object(Ye.jsxs)("div",{className:"login__screen",children:["login"===a&&Object(Ye.jsx)(Ze,{handleChangeScreen:c}),"register"===a&&Object(Ye.jsx)(Je,{handleChangeScreen:c})]})]})},We=function(e){return{type:T,payload:{tipo:e.tipo,modo:e.modo,title:e.title}}},et=function(e){var t=e.botonEditarVisible,a=void 0!==t&&t,n=e.ruta,c=Object(r.b)(),i=Object(s.useState)(!1),u=Object(o.a)(i,2),l=u[0],d=u[1],b=Object(r.c)((function(e){return e.cuentas})).isEditing,j=Object(r.c)((function(e){return e.cats})).isEditing,m=function(e){e.preventDefault(),d(!l)},p=function(e,t){e.preventDefault(),e.stopPropagation(),c(We({tipo:t||e.target.value,modo:"crear"})),d(!1)},v=function(e){e.preventDefault(),"cuentas"===n&&c(we()),"categorias"===n&&c(ve())};return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)("div",{className:"boton-editar",children:[a&&!b&&Object(Ye.jsx)("button",{className:"btn btn-warning btn-editar",children:Object(Ye.jsx)("i",{onClick:function(e){e.preventDefault(),"cuentas"===n&&c({type:$}),"categorias"===n&&c({type:W})},className:"bi bi-pencil"})}),a&&b&&Object(Ye.jsx)("button",{className:"btn btn-editar buttons__close",children:Object(Ye.jsx)("i",{onClick:v,className:"bi bi-x"})}),a&&j&&Object(Ye.jsx)("button",{className:"btn btn-editar buttons__close",children:Object(Ye.jsx)("i",{onClick:v,className:"bi bi-x"})})]}),Object(Ye.jsxs)("div",{className:"boton-plus",children:[l?Object(Ye.jsx)("button",{className:"buttons__close",onClick:m,children:Object(Ye.jsx)("i",{className:"bi bi-x"})}):Object(Ye.jsx)("button",{className:"buttons__plus",onClick:m,children:"+"}),Object(Ye.jsxs)("div",{className:"vista-buttons ".concat(l?"visible":""),children:[Object(Ye.jsxs)("button",{onClick:p,value:"ingreso",className:"btn btn-menu",children:["Nuevo ingreso",Object(Ye.jsx)("i",{onClick:function(e){e.stopPropagation(),e.target.parentElement.click()},className:"bi bi-graph-up-arrow"})]}),Object(Ye.jsxs)("button",{onClick:p,value:"transferencia",className:"btn btn-menu",children:["Transferir entre cuentas",Object(Ye.jsx)("i",{onClick:function(e){e.stopPropagation(),e.target.parentElement.click()},className:"bi bi-arrow-left-right"})]}),Object(Ye.jsxs)("button",{onClick:p,value:"gasto",className:"btn btn-menu",children:["Nuevo gasto",Object(Ye.jsx)("i",{onClick:function(e){e.stopPropagation(),e.target.parentElement.click()},className:"bi bi-graph-down-arrow"})]}),Object(Ye.jsxs)("button",{onClick:p,value:"deuda",className:"btn btn-menu",children:["Nueva deuda",Object(Ye.jsx)("i",{onClick:function(e){e.stopPropagation(),e.target.parentElement.click()},className:"bi bi-bank"})]}),Object(Ye.jsxs)("button",{onClick:p,value:"prestamo",className:"btn btn-menu",children:["Nuevo prestamo",Object(Ye.jsx)("i",{onClick:function(e){e.stopPropagation(),e.target.parentElement.click()},className:"bi bi-bank"})]}),Object(Ye.jsxs)("button",{onClick:p,value:"deudaACobrar",className:"btn btn-menu",children:["Nueva deuda a cobrar",Object(Ye.jsx)("i",{onClick:function(e){e.stopPropagation(),e.target.parentElement.click()},className:"bi bi-percent"})]}),Object(Ye.jsxs)("button",{onClick:p,value:"compraActivos",className:"btn btn-menu",children:["Compra de activos",Object(Ye.jsx)("i",{onClick:function(e){e.stopPropagation(),e.target.parentElement.click()},className:"bi bi-cart"})]}),Object(Ye.jsxs)("button",{onClick:p,value:"ventaActivos",className:"btn btn-menu",children:["Venta de activos",Object(Ye.jsx)("i",{onClick:function(e){e.stopPropagation(),e.target.parentElement.click()},className:"bi bi-piggy-bank"})]})]})]})]})},tt=function(e){var t=e.options,a=e.clase,n=e.actualizarState,c=e.state;return Object(Ye.jsx)("span",{className:"select__view",children:Object(Ye.jsx)("select",{className:a,onChange:n,defaultValue:c,children:t.map((function(e){return Object(Ye.jsxs)("option",{value:e,children:[e," "]},e)}))})})},at=function(e){var t=e.movimientos,a=e.cantMostrada,n=e.cabecera,c=Object(r.b)(),o=t;return void 0!==a&&(o=t.slice(0,a)),Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsxs)("table",{className:"table table-borderless",children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{scope:"col",children:n[0]}),Object(Ye.jsx)("th",{scope:"col",children:n[1]}),Object(Ye.jsx)("th",{scope:"col",children:n[2]}),Object(Ye.jsx)("th",{scope:"col",children:n[3]}),n[4]&&Object(Ye.jsx)("th",{scope:"col",children:n[4]}),n[5]&&Object(Ye.jsx)("th",{scope:"col",children:n[5]})]})}),Object(Ye.jsx)("tbody",{children:o.map((function(e){return Object(Ye.jsxs)("tr",{className:"table__movimiento ".concat("saldado"===e.estado?"saldado":"pendiente"),onClick:function(t){return function(e,t){e.stopPropagation(),e.preventDefault(),c(Ue(t)),c(We({tipo:t.tipo,modo:"solo ver"}))}(t,e)},children:["saldado"!==e.estado?Object(Ye.jsxs)("th",{scope:"row",children:["gasto"===e.tipo&&"-",new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.cantidadPagada?e.cantidad-e.cantidadPagada:e.cantidad)]}):Object(Ye.jsx)("th",{scope:"row",children:"Saldado"}),Object(Ye.jsx)("td",{children:e.categoria||("deudaACobrar"===e.tipo?"Deuda a cobrar":e.tipo)}),e.prestador&&Object(Ye.jsx)("td",{children:e.prestador}),e.tomador&&Object(Ye.jsx)("td",{children:e.tomador}),e.subcuenta?Object(Ye.jsxs)("td",{children:[e.subcuenta," (",e.cuenta,")"]}):Object(Ye.jsx)("td",{children:e.cuenta}),Object(Ye.jsx)("td",{children:new Date(e.fecha).toLocaleDateString()}),(e.prestador||e.tomador)&&Object(Ye.jsx)("td",{children:Object(Ye.jsxs)("button",{className:"table__btn",children:["saldado"===e.estado?Object(Ye.jsx)("i",{className:"bi bi-check2-circle"}):Object(Ye.jsx)("i",{className:"bi bi-clock-history"})," "]})}),"saldado"!==e.estado&&"prestamo saldado"!==e.categoria&&Object(Ye.jsx)("td",{children:Object(Ye.jsx)("button",{className:"table__btn",children:Object(Ye.jsx)("i",{className:"bi bi-pencil",onClick:function(t){return function(e,t){e.stopPropagation(),e.preventDefault(),c(Ue(t)),c(We({tipo:t.tipo,modo:"editar"}))}(t,e)}})})})]},e.id)}))})]})})};at.defaultProps={cabecera:["Cantidad","Categoria","Cuenta","Fecha"]};var nt=function(){var e=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],t=Object(s.useState)(e[(new Date).getMonth()]),a=Object(o.a)(t,2),n=a[0],c=a[1],i=Object(r.c)((function(e){return e.movs})).movs.filter((function(t){return e[t.fecha.getMonth()]===n})).filter((function(e){return"deuda"!==e.tipo&&"prestamo"!==e.tipo&&"transferencia"!==e.tipo&&"deudaACobrar"!==e.tipo&&"compraActivos"!==e.tipo&&"ventaActivos"!==e.tipo}));return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(u.b,{to:"/",className:"go-back",children:Object(Ye.jsx)("i",{className:"bi bi-arrow-left-short"})}),Object(Ye.jsxs)("div",{className:"container-view",children:[Object(Ye.jsx)(tt,{actualizarState:function(e){c(e.target.value)},options:e,state:n}),Object(Ye.jsx)("h1",{className:"movimientos__titulo",children:"Todos los movimientos"}),Object(Ye.jsx)(at,{movimientos:i}),Object(Ye.jsx)(et,{})]})]})},ct=function(e){var t=e.categorias,a=e.tableElements,n=Object(r.b)(),c=Object(r.c)((function(e){return e.cats})).isEditing,o=function(e){var t=0;return a.filter((function(t){return t.categoria===e})).map((function(e){return t+=parseInt(e.cantidad)})),t},s=function(e,t,a,c,r){e.preventDefault(),n(We({tipo:"editar categorias"})),n({type:te,payload:{catNombre:t,catCantidad:a,id:c,tipo:r}})};return Object(Ye.jsx)("div",{className:"accordion",id:"accordionPanelsStayOpenExample",children:t.map((function(e){return Object(Ye.jsxs)("div",{className:"accordion-item",children:[Object(Ye.jsx)("h2",{className:"accordion-header",id:"panelsStayOpen-headingOne",children:Object(Ye.jsxs)("button",{onClick:function(t){return function(e,t){if(e.classList.contains("accordion-button")){var n=a.filter((function(e){return e.categoria===t})).length;e.classList.toggle("collapsed"),e.parentElement.nextSibling.classList.toggle("show"),e.parentElement.nextSibling.classList.contains("show")?e.parentElement.nextSibling.style.height=50*(n+1)+"px":e.parentElement.nextSibling.style.height="0px"}}(t.target,e.nombre)},className:"accordion-button d-flex justify-content-between align-items-center collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne",children:[e.nombre,Object(Ye.jsx)("span",{onClick:function(e){return e.target.parentElement.click()},className:"badge bg-secondary bg-".concat("gasto"===e.tipo&&0!==o(e.nombre)?"danger":"").concat("ingreso"===e.tipo&&0!==o(e.nombre)?"success":""),children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o(e.nombre))}),c&&Object(Ye.jsx)("i",{onClick:function(t){return s(t,e.nombre,o(e.nombre),e.id,e.tipo)},className:"bi bi-pencil"})]})}),Object(Ye.jsx)("div",{id:"panelsStayOpen-collapseOne",className:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingOne",children:Object(Ye.jsx)("div",{className:"accordion-body",children:Object(Ye.jsx)(at,{movimientos:a.filter((function(t){return t.categoria===e.nombre}))})})})]},e.nombre)}))})},rt=function(){var e=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],t=Object(s.useState)(e[(new Date).getMonth()]),a=Object(o.a)(t,2),n=a[0],c=a[1],i=Object(r.b)();Object(s.useEffect)((function(){return function(){i(ve())}}),[i]);var u=Object(r.c)((function(e){return e.movs})).movs,l=Object(r.c)((function(e){return e.cats})).categorias,d=u.filter((function(t){return e[new Date(t.fecha).getMonth()]===n})).filter((function(e){return"deuda"!==e.tipo&&"prestamo"!==e.tipo&&"transferencia"!==e.tipo})),b=l.sort((function(e,t){return e.nombre>t.nombre?1:-1}));return Object(Ye.jsxs)("div",{className:"container-view",children:[Object(Ye.jsx)(tt,{options:e,actualizarState:function(e){c(e.target.value)},state:n}),Object(Ye.jsx)("h1",{children:"Categorias"}),Object(Ye.jsx)(ct,{categorias:b,tableElements:d}),Object(Ye.jsx)(et,{botonEditarVisible:!0,ruta:"categorias"})]})},ot=function(e,t,a){var n=["BTC","ETH","USD","XRP","ADA"],c=["ARS","USD","MXN"];return e.reduce((function(e,r){if(0!==r.valor){if(r.nombre===t)return e+(r=r.valor);if(n.includes(t)&&c.includes(r.nombre))return e+(r=r.valor/a.find((function(e){return e.nombre==="".concat(t,"/").concat(r.nombre)})).valor);if(n.includes(r.nombre)&&c.includes(t))return e+(r=r.valor*a.find((function(e){return e.nombre===r.nombre+"/"+t})).valor)}return e+r.valor}),0)},st=function(e,t,a){var n=0;return e.filter((function(e){return e.cuenta===a})).filter((function(e){return"ingreso"===e.tipo})).map((function(e){return n+=parseInt(e.cantidad)})),e.filter((function(e){return e.cuenta===a})).filter((function(e){return"gasto"===e.tipo})).map((function(e){return n-=parseInt(e.cantidad)})),e.filter((function(e){return e.cuenta===a})).filter((function(e){return"prestamo"===e.tipo})).map((function(e){return n+=parseInt(e.cantidad)})),e.filter((function(e){return e.cuenta===a})).filter((function(e){return"deudaACobrar"===e.tipo})).map((function(e){return n-=parseInt(e.cantidad)})),e.filter((function(e){return"transferencia"===e.tipo})).filter((function(e){return e.from.cuenta===a})).map((function(e){return n-=parseInt(e.cantidad)})),e.filter((function(e){return"transferencia"===e.tipo})).filter((function(e){return e.to.cuenta===a})).map((function(e){return n+=parseInt(e.cantidad)})),e.filter((function(e){return"compraActivos"===e.tipo})).filter((function(e){return e.from.cuenta===a})).map((function(e){return n-=parseInt(e.cantidad)})),e.filter((function(e){return"compraActivos"===e.tipo})).filter((function(e){return e.to.cuenta===a})).map((function(e){return n+=parseInt(e.cantidad)})),e.filter((function(e){return"ventaActivos"===e.tipo})).filter((function(e){return e.from.cuenta===a})).map((function(e){return n-=parseInt(e.cantidad)})),e.filter((function(e){return"ventaActivos"===e.tipo})).filter((function(e){return e.to.cuenta===a})).map((function(e){return n+=parseInt(e.cantidad)})),e.filter((function(e){return t.find((function(e){return e.nombre===a})).subcuentas.includes(e.categoria)})).filter((function(e){return"gasto"===e.tipo})).map((function(e){return n+=parseInt(e.cantidad)})),{nombre:a,valor:n}},it=function(e,t,a){var n={nombre:t,valor:0};return e.filter((function(e){return"compraActivos"===e.tipo&&e.from.cuenta===t&&e.to.subcuenta===a})).map((function(e){return n.valor+=parseInt(e.cantidad)})),e.filter((function(e){return"ventaActivos"===e.tipo&&e.to.cuenta===t&&e.from.subcuenta===a})).map((function(e){return n.valor-=parseInt(e.cantidad)})),e.filter((function(e){return"ingreso"===e.tipo&&"Activos"===e.cuenta&&e.monedaValuacion===t&&e.subcuenta===a})).map((function(e){return n.valor+=parseInt(e.cantidad)})),n},ut=function(e,t,a,n){var c=[];return t.find((function(e){return e.nombre===a})).subcuentas.forEach((function(t){var r=[],o="",s=0;e.filter((function(e){return e.cuenta===a&&e.subcuenta===t})).filter((function(e){return"ingreso"===e.tipo})).map((function(e){return s+=parseFloat(e.cantidad)})),e.filter((function(e){return e.cuenta===a&&e.subcuenta===t})).filter((function(e){return"gasto"===e.tipo})).map((function(e){return s-=parseFloat(e.cantidad)})),e.filter((function(e){return e.cuenta===a&&e.subcuenta===t})).filter((function(e){return"prestamo"===e.tipo})).map((function(e){return s+=parseFloat(e.cantidad)})),e.filter((function(e){return e.cuenta===a&&e.subcuenta===t})).filter((function(e){return"deudaACobrar"===e.tipo})).map((function(e){return s-=parseFloat(e.cantidad)})),e.filter((function(e){return e.categoria===t})).filter((function(e){return"gasto"===e.tipo})).map((function(e){return s+=parseFloat(e.cantidad)})),e.filter((function(e){return"transferencia"===e.tipo})).filter((function(e){return e.from.cuenta===a&&e.from.subcuenta===t})).map((function(e){return s-=parseFloat(e.cantidad)})),e.filter((function(e){return"transferencia"===e.tipo})).filter((function(e){return e.to.cuenta===a&&e.to.subcuenta===t})).map((function(e){return s+=parseFloat(e.cantidad)})),e.filter((function(e){return"compraActivos"===e.tipo})).filter((function(e){return e.from.cuenta===a&&e.from.subcuenta===t})).map((function(e){return s-=parseFloat(e.cantidad)})),e.filter((function(e){return"compraActivos"===e.tipo})).filter((function(e){return e.to.cuenta===a&&e.to.subcuenta===t})).map((function(e){return s+=parseFloat(e.cantidad)})),e.filter((function(e){return"ventaActivos"===e.tipo})).filter((function(e){return e.from.cuenta===a&&e.from.subcuenta===t})).map((function(e){return s-=parseFloat(e.cantidad)})),e.filter((function(e){return"ventaActivos"===e.tipo})).filter((function(e){return e.to.cuenta===a&&e.to.subcuenta===t})).map((function(e){return s+=parseFloat(e.cantidad)})),e.filter((function(e){return"compraActivos"===e.tipo&&e.to.subcuenta===t})).map((function(e){return o=e.monedaValuacion})),e.filter((function(e){return"compraActivos"===e.tipo&&e.to.subcuenta===t})).forEach((function(e){r.push({nombre:e.from.cuenta,valor:s}),s=ot(r,"USD",n)})),e.filter((function(e){return"ingreso"===e.tipo&&"Activos"===e.cuenta&&e.subcuenta===t})).map((function(e){return o=e.monedaValuacion})),""===o&&(o=a),"Activos"===a&&(o="USD"),c.push({subcuenta:t,cantidad:s,monedaValuacion:o})})),c},lt=function(e,t,a,n){var c=[],r={nombre:"Activos",valor:[]};return t.forEach((function(a){"Activos"!==a.nombre?c.push(st(e,t,a.nombre)):"Activos"!==a&&r.valor.push(it(e,a))})),{totalCuentas:ot(c,a,n),totalActivos:ot(r.valor,a,n)}},dt=function(e,t,a,n){var c,r={nombre:"Activos",subcuentas:[]};null===(c=t.find((function(e){return"Activos"===e.nombre})))||void 0===c||c.subcuentas.map((function(a){var n={nombre:a,valor:[]};return t.filter((function(e){return"Activos"!==e.nombre})).forEach((function(t){n.valor.push(it(e,t.nombre,a))})),r.subcuentas.push(n)}));var o=0;return r.subcuentas.forEach((function(e){o+=ot(e.valor,a,n)})),{cantidadTotalActivos:r,cantidadTotalConvertida:o}},bt=function(e){var t=e.elementos,a=e.isEditing,n=e.nomCuenta,c=Object(r.b)(),i=Object(s.useState)("ARS"),u=Object(o.a)(i,2),l=u[0],d=u[1],b=Object(r.c)((function(e){return e.pares})).pares,j=Object(r.c)((function(e){return e.movs})).movs,m=Object(r.c)((function(e){return e.cuentas})).cuentas,p=function(e){var t=0;return"Activos"===e.monedaValuacion&&dt(j,m,l,b).cantidadTotalActivos.subcuentas.forEach((function(a){a.nombre===e.subcuenta&&(t=ot(a.valor,l,b))})),0!==e.cantidad&&(t=ot([{nombre:e.monedaValuacion,valor:e.cantidad}],l,b)),t};return Object(Ye.jsxs)("div",{className:"list__view",children:[Object(Ye.jsx)(tt,{options:["ARS","USD","BTC","ETH"],state:l,actualizarState:function(e){e.preventDefault(),d(e.target.value)}}),Object(Ye.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(Ye.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.subcuenta,Object(Ye.jsx)("span",{className:"badge bg-secondary bg-".concat(e.cantidad<0?"danger":"").concat(e.cantidad>0?"success":""),children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(p(e))}),a&&Object(Ye.jsx)("i",{className:"bi bi-pencil",onClick:function(t){return function(e,t,a){e.preventDefault(),c(We({tipo:"editar subcuentas"})),c(Ie({nomCuenta:n,nomSubcuenta:t,cantidad:a}))}(t,e.subcuenta,e.cantidad)}})]},e.subcuenta)}))})]})},jt=function(){var e=Object(r.c)((function(e){return e.movs})).movs,t=Object(r.c)((function(e){return e.pares})).pares,a=Object(r.c)((function(e){return e.cuentas})),n=a.cuentas,c=a.isEditing,o=Object(r.b)();return Object(Ye.jsx)("div",{className:"accordion accordion-list",id:"accordionPanelsStayOpenExample",children:n.map((function(a){return Object(Ye.jsxs)("div",{className:"accordion-item",children:[Object(Ye.jsx)("h2",{className:"accordion-header",id:"panelsStayOpen-headingOne",children:Object(Ye.jsxs)("button",{onClick:function(e){return function(e,t){if(e.classList.contains("accordion-button")){var a=n.find((function(e){return e.nombre===t})).subcuentas.length;e.classList.toggle("collapsed"),e.parentElement.nextSibling.classList.toggle("show"),e.parentElement.nextSibling.classList.contains("show")?e.parentElement.nextSibling.style.height="calc("+55*a+"px + 3rem)":e.parentElement.nextSibling.style.height="0px"}}(e.target,a.nombre)},className:"accordion-button d-flex justify-content-between align-items-center collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne",children:["BTC"===a.nombre?"Bitcoin":a.nombre,Object(Ye.jsx)("span",{onClick:function(e){return e.target.parentElement.click()},className:"badge bg-secondary bg-".concat(st(e,n,a.nombre).valor<0?"danger":"").concat(st(e,n,a.nombre).valor>0?"success":""),children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format("Activos"===a.nombre?dt(e,n,"USD",t).cantidadTotalConvertida:st(e,n,a.nombre).valor)}),c&&Object(Ye.jsx)("i",{onClick:function(t){return function(e,t,a){e.preventDefault(),o(We({tipo:"editar cuentas"})),o(Ie(Object(ie.a)(Object(ie.a)({},t),{},{cantidad:a})))}(t,a,st(e,n,a.nombre).valor)},className:"bi bi-pencil"})]})}),Object(Ye.jsx)("div",{id:"panelsStayOpen-collapseOne",className:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingOne",children:Object(Ye.jsx)("div",{className:"accordion-body",children:Object(Ye.jsx)(bt,{elementos:ut(e,n,a.nombre,t),isEditing:c,nomCuenta:a.nombre})})})]},a.nombre)}))})},mt=function(){var e=Object(r.c)((function(e){return e.movs})).movs,t=Object(r.c)((function(e){return e.cuentas})).cuentas,a=Object(r.b)();Object(s.useEffect)((function(){return function(){a(we())}}),[a]);var n=e.filter((function(e){return"deuda"!==e.tipo})),c=t.map((function(e){return e.nombre}));return Object(Ye.jsxs)("div",{className:"container-view",children:[Object(Ye.jsx)("h1",{children:"Cuentas"}),Object(Ye.jsx)(jt,{nombreCuentas:c,tableElements:n}),Object(Ye.jsx)(et,{botonEditarVisible:!0,ruta:"cuentas"})]})},pt=function(){return Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("h1",{children:"Pagina en construcci\xf3n..."}),Object(Ye.jsx)("div",{className:"page-in-construction",children:Object(Ye.jsx)("lottie-player",{className:"animacion",src:"https://assets8.lottiefiles.com/packages/lf20_8uHQ7s.json",background:"transparent",speed:"1",style:{maxWidth:"300px",maxHeight:"300px"},loop:!0,autoplay:!0})})]})},vt=function(){var e=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],t=Object(s.useState)(e[(new Date).getMonth()]),a=Object(o.a)(t,2),n=a[0],c=a[1],i=Object(r.c)((function(e){return e.movs})).movs,u=Object(r.c)((function(e){return e.cats})).categorias,l=i.filter((function(t){return e[t.fecha.getMonth()]===n})).filter((function(e){return"gasto"===e.tipo})),d=u.filter((function(e){return"gasto"===e.tipo})).sort((function(e,t){return e.nombre>t.nombre?1:-1}));return Object(Ye.jsxs)("div",{className:"container-view",children:[Object(Ye.jsx)(tt,{options:e,actualizarState:function(e){c(e.target.value)},state:n}),Object(Ye.jsx)("h1",{children:"Gastos"}),Object(Ye.jsx)(ct,{categorias:d,tableElements:l}),Object(Ye.jsx)(et,{})]})},ht=function(e){var t=e.movimientos;return Object(Ye.jsxs)("section",{className:"tabla-general",children:[Object(Ye.jsx)("h3",{children:"Ultimos movimientos"}),Object(Ye.jsx)(at,{movimientos:t,cantMostrada:5})]})},Ot=function(e){var t=e.cuentas,a=Object(r.c)((function(e){return e.movs})).movs,n=Object(r.c)((function(e){return e.pares})).pares;return Object(Ye.jsx)("div",{children:t.map((function(e){return st(a,t,e.nombre).valor>0&&Object(Ye.jsxs)("p",{className:"total-por-cuentas",children:[e.nombre," ",Object(Ye.jsxs)("b",{children:[new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format("Activos"===e.nombre?dt(a,t,"USD",n).cantidadTotalConvertida:st(a,t,e.nombre).valor)," ","Activos"===e.nombre&&"usd"]})]},e.nombre)}))})},ft=function(){var e=Object(s.useState)("ARS"),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(r.c)((function(e){return e.pares})),i=c.pares,u=Object(r.c)((function(e){return e.movs})),l=u.movs,d=Object(r.c)((function(e){return e.cuentas})),b=d.cuentas;return Object(Ye.jsxs)("div",{className:"patrimonio__view",children:[Object(Ye.jsx)(tt,{options:["ARS","USD","BTC","ETH"],clase:"upperCase",actualizarState:function(e){n(e.target.value)}}),Object(Ye.jsxs)("div",{className:"patrimonio__cantidad",children:[Object(Ye.jsxs)("div",{className:"patrimonio__principal",children:[Object(Ye.jsxs)("small",{children:[a," "]}),Object(Ye.jsxs)("h1",{children:[" ",new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(lt(l,b,a,i).totalCuentas+dt(l,b,a,i).cantidadTotalConvertida)]})]}),Object(Ye.jsx)(Ot,{cuentas:b})]})]})},xt=function(){var e=Object(r.c)((function(e){return e.movs})).movs.filter((function(e){return"deuda"!==e.tipo&&"prestamo"!==e.tipo&&"transferencia"!==e.tipo&&"deudaACobrar"!==e.tipo&&"compraActivos"!==e.tipo&&"ventaActivos"!==e.tipo}));return Object(Ye.jsxs)("div",{className:"container-view",children:[Object(Ye.jsx)(ft,{}),Object(Ye.jsx)(ht,{movimientos:e}),e.length>5&&Object(Ye.jsx)(u.b,{to:"/movimientos",element:"",className:"ver-mas",children:"Ver mas movimientos"}),Object(Ye.jsx)(et,{})]})},gt=function(){var e=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],t=Object(s.useState)(e[(new Date).getMonth()]),a=Object(o.a)(t,2),n=a[0],c=a[1],i=Object(r.c)((function(e){return e.movs})).movs,u=Object(r.c)((function(e){return e.cats})).categorias,l=i.filter((function(t){return e[t.fecha.getMonth()]===n})).filter((function(e){return"ingreso"===e.tipo})),d=u.filter((function(e){return"ingreso"===e.tipo})).sort((function(e,t){return e.nombre>t.nombre?1:-1}));return Object(Ye.jsxs)("div",{className:"container-view",children:[Object(Ye.jsx)(tt,{options:e,actualizarState:function(e){c(e.target.value)},state:n}),Object(Ye.jsx)("h1",{children:"Ingresos"}),Object(Ye.jsx)(ct,{tableElements:l,categorias:d}),Object(Ye.jsx)(et,{})]})},Ct=function(e){var t=e.elementos,a=Object(r.b)();return Object(Ye.jsx)("div",{className:"list__view",children:Object(Ye.jsxs)("table",{className:"table table-borderless",children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{scope:"col",children:"Cantidad"}),Object(Ye.jsx)("th",{scope:"col",children:"De"}),Object(Ye.jsx)("th",{scope:"col"}),Object(Ye.jsx)("th",{scope:"col",children:"A"}),Object(Ye.jsx)("th",{scope:"col",children:"Fecha"})]})}),Object(Ye.jsx)("tbody",{children:t.map((function(e){return Object(Ye.jsxs)("tr",{className:"table__movimiento",onClick:function(t){return function(e,t){e.stopPropagation(),e.preventDefault(),a(Ue(t)),a(We({tipo:t.tipo,modo:"solo ver"}))}(t,e)},children:[Object(Ye.jsx)("th",{scope:"row",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(parseInt(e.cantidad))}),Object(Ye.jsxs)("td",{children:[" ",e.from.subcuenta," (",e.from.cuenta,")"]}),Object(Ye.jsx)("td",{children:Object(Ye.jsx)("i",{className:"bi bi-arrow-right"})}),Object(Ye.jsxs)("td",{children:[" ",e.to.subcuenta," (",e.to.cuenta,")"]}),Object(Ye.jsx)("td",{children:e.fecha.toLocaleDateString()}),Object(Ye.jsx)("td",{children:Object(Ye.jsx)("button",{className:"table__btn",children:Object(Ye.jsx)("i",{className:"bi bi-pencil",onClick:function(t){return function(e,t){e.stopPropagation(),e.preventDefault(),a(Ue(t)),a(We({tipo:t.tipo,modo:"editar"}))}(t,e)}})})})]},e.id)}))})]})})},Nt=function(e){var t=e.tipo,a=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],n=Object(s.useState)(a[(new Date).getMonth()]),c=Object(o.a)(n,2),i=c[0],u=c[1],l=Object(r.c)((function(e){return e.movs})).movs.filter((function(e){return a[e.fecha.getMonth()]===i})).filter((function(e){return e.tipo===t}));return Object(Ye.jsxs)("div",{className:"container-view tabla-general",children:[Object(Ye.jsx)(tt,{options:a,actualizarState:function(e){u(e.target.value)},state:i}),"transferencia"===t&&Object(Ye.jsx)("h1",{children:"Transferencias"}),"compraActivos"===t&&Object(Ye.jsx)("h1",{children:"Compras"}),"ventaActivos"===t&&Object(Ye.jsx)("h1",{children:"Ventas"}),Object(Ye.jsx)(Ct,{elementos:l}),Object(Ye.jsx)(et,{})]})},yt=function(){var e=Object(r.c)((function(e){return e.movs})).movs.filter((function(e){return"deuda"===e.tipo||"prestamo"===e.tipo}));return Object(Ye.jsxs)("div",{className:"container-view",children:[Object(Ye.jsx)("h1",{children:"Deudas"}),Object(Ye.jsx)(at,{movimientos:e,cabecera:["Cantidad","Motivo","A quien","Cuenta","Fecha","Estado"]}),Object(Ye.jsx)(et,{})]})},St=function(){var e=Object(r.c)((function(e){return e.movs})).movs.filter((function(e){return"deudaACobrar"===e.tipo||"prestamoACobrar"===e.tipo}));return Object(Ye.jsxs)("div",{className:"container-view",children:[Object(Ye.jsx)("h1",{children:"Deudas a cobrar"}),Object(Ye.jsx)(at,{movimientos:e,cabecera:["Cantidad","Motivo","De quien","Cuenta","Fecha","Estado"]}),Object(Ye.jsx)(et,{})]})},_t=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://criptoya.com/api/satoshitango/",e.next=3,fetch("https://criptoya.com/api/satoshitango/"+t,{header:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,c=n.bid,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.auth})).name;Object(s.useEffect)((function(){var t=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t("dai/ars");case 2:return t=e.sent,e.next=5,_t("btc/usd");case 5:return a=e.sent,e.next=8,_t("btc/ars");case 8:return n=e.sent,e.next=11,_t("eth/ars");case 11:return c=e.sent,e.next=14,_t("eth/usd");case 14:return r=e.sent,e.abrupt("return",[{nombre:"USD/ARS",valor:t},{nombre:"BTC/USD",valor:a},{nombre:"BTC/ARS",valor:n},{nombre:"ETH/ARS",valor:c},{nombre:"ETH/USD",valor:r}]);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t().then((function(t){return e({type:re,payload:t})}))}),[e]);var a=Object(s.useRef)(),n=Object(s.useRef)(),c=function(){a.current.style.transform="translateX(-250px)",n.current.style.zIndex="-1",n.current.style.opacity="0"};return Object(Ye.jsxs)("div",{className:"navbar__view",children:[Object(Ye.jsxs)("header",{className:"navbar__header",children:[Object(Ye.jsx)("button",{onClick:function(){a.current.style.transform="translateX(0px)",n.current.style.zIndex="2",n.current.style.opacity="1"},children:Object(Ye.jsx)("i",{className:"bi bi-list"})}),Object(Ye.jsx)("h3",{children:"Cuentas claras"})]}),Object(Ye.jsxs)("nav",{ref:a,className:"navbar__menu",children:[Object(Ye.jsxs)("ul",{children:[Object(Ye.jsx)("li",{className:"displayName",children:Object(Ye.jsx)("h5",{className:"displayName",children:t})}),Object(Ye.jsx)("li",{children:Object(Ye.jsxs)(u.b,{to:"/",onClick:c,children:[Object(Ye.jsx)("i",{className:"bi bi-house"}),"Home"]})}),Object(Ye.jsx)("li",{children:Object(Ye.jsxs)(u.b,{to:"/categories",onClick:c,children:[Object(Ye.jsx)("i",{className:"bi bi-list-task"}),"Categorias"]})}),Object(Ye.jsx)("li",{children:Object(Ye.jsxs)(u.b,{to:"/ingresos",onClick:c,children:[Object(Ye.jsx)("i",{className:"bi bi-graph-up-arrow"}),"Ingresos"]})}),Object(Ye.jsx)("li",{children:Object(Ye.jsxs)(u.b,{to:"/gastos",onClick:c,children:[Object(Ye.jsx)("i",{className:"bi bi-graph-down-arrow"}),"Gastos"]})}),Object(Ye.jsx)("li",{children:Object(Ye.jsxs)(u.b,{to:"/deudas",onClick:c,children:[Object(Ye.jsx)("i",{className:"bi bi-bank"}),"Deudas"]})}),Object(Ye.jsx)("li",{children:Object(Ye.jsxs)(u.b,{to:"/deudas-a-cobrar",onClick:c,children:[Object(Ye.jsx)("i",{className:"bi bi-percent"}),"Deudas a cobrar"]})}),Object(Ye.jsx)("li",{children:Object(Ye.jsxs)(u.b,{to:"/transferencias",onClick:c,children:[Object(Ye.jsx)("i",{className:"bi bi-arrow-left-right"}),"Transferencias"]})}),Object(Ye.jsx)("li",{children:Object(Ye.jsxs)(u.b,{to:"/cuentas",onClick:c,children:[Object(Ye.jsx)("i",{className:"bi bi-wallet"}),"Cuentas"]})}),Object(Ye.jsx)("li",{children:Object(Ye.jsxs)(u.b,{to:"/estadisticas",onClick:c,children:[Object(Ye.jsx)("i",{className:"bi bi-bar-chart"}),"Estadisticas"]})}),Object(Ye.jsx)("li",{children:Object(Ye.jsxs)(u.b,{to:"/compras",onClick:c,children:[Object(Ye.jsx)("i",{className:"bi bi-cart"}),"Compras"]})}),Object(Ye.jsx)("li",{children:Object(Ye.jsxs)(u.b,{to:"/ventas",onClick:c,children:[Object(Ye.jsx)("i",{className:"bi bi-piggy-bank"}),"Ventas"]})})]}),Object(Ye.jsx)("ul",{children:Object(Ye.jsx)("li",{children:Object(Ye.jsxs)(u.b,{to:"/login",onClick:function(t){t.preventDefault(),e(function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(i.c)(),e.next=3,Object(i.g)(a);case 3:t(He()),t({type:D}),t({type:X}),t({type:ne});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},className:"logout",children:[Object(Ye.jsx)("i",{className:"bi bi-box-arrow-in-left"}),"Logout"]})})})]}),Object(Ye.jsxs)("section",{onClick:c,className:"navbar__principal",children:[Object(Ye.jsx)("div",{className:"navbar__modal",ref:n}),Object(Ye.jsx)("div",{className:"navbar__vista",children:Object(Ye.jsxs)(l.d,{children:[Object(Ye.jsx)(l.b,{path:"/",element:Object(Ye.jsx)(xt,{})}),Object(Ye.jsx)(l.b,{path:"/categories",element:Object(Ye.jsx)(rt,{})}),Object(Ye.jsx)(l.b,{path:"/ingresos",element:Object(Ye.jsx)(gt,{})}),Object(Ye.jsx)(l.b,{path:"/gastos",element:Object(Ye.jsx)(vt,{})}),Object(Ye.jsx)(l.b,{path:"/transferencias",element:Object(Ye.jsx)(Nt,{tipo:"transferencia"})}),Object(Ye.jsx)(l.b,{path:"/estadisticas",element:Object(Ye.jsx)(pt,{})}),Object(Ye.jsx)(l.b,{path:"/cuentas",element:Object(Ye.jsx)(mt,{})}),Object(Ye.jsx)(l.b,{path:"/movimientos",element:Object(Ye.jsx)(nt,{})}),Object(Ye.jsx)(l.b,{path:"/deudas",element:Object(Ye.jsx)(yt,{})}),Object(Ye.jsx)(l.b,{path:"/deudas-a-cobrar",element:Object(Ye.jsx)(St,{})}),Object(Ye.jsx)(l.b,{path:"/compras",element:Object(Ye.jsx)(Nt,{tipo:"compraActivos"})}),Object(Ye.jsx)(l.b,{path:"/ventas",element:Object(Ye.jsx)(Nt,{tipo:"ventaActivos"})}),Object(Ye.jsx)(l.b,{path:"*",element:Object(Ye.jsx)(l.a,{to:"/"})})]})})]})]})},wt=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.movs})).activeMov,a=t.cantidad,n=t.cantidadPagada,c=t.categoria,o=t.prestador,s=t.cuenta,i=t.fecha,u=t.descripcion,l=t.estado,d=t.cuotas,b=t.cuotasPagadas,j=t.url;return Object(Ye.jsxs)("div",{className:"detalle__form",children:[Object(Ye.jsx)("h1",{children:"Detalle deuda"}),Object(Ye.jsxs)("section",{className:"detalle__section",children:[Object(Ye.jsxs)("h4",{children:["Tipo: ",Object(Ye.jsx)("span",{children:"Deuda"})]}),Object(Ye.jsxs)("h4",{children:["Fecha: ",Object(Ye.jsx)("span",{children:i.toLocaleDateString()})]}),Object(Ye.jsxs)("h4",{children:["Cantidad total: ",Object(Ye.jsxs)("span",{children:["$ ",a]})]}),Object(Ye.jsxs)("h4",{children:["Cantidad abonada: ",Object(Ye.jsxs)("span",{children:["$ ",n]})]}),Object(Ye.jsxs)("h4",{children:["Cantidad restante: ",Object(Ye.jsxs)("span",{children:["$ ",a-n]})]}),Object(Ye.jsxs)("h4",{children:["Prestador: ",Object(Ye.jsx)("span",{children:o})]}),Object(Ye.jsxs)("h4",{children:["Cuenta: ",Object(Ye.jsx)("span",{children:s})]}),Object(Ye.jsxs)("h4",{children:["Motivo: ",Object(Ye.jsx)("span",{children:c})]}),Object(Ye.jsxs)("h4",{children:["Cuotas abonadas: ",Object(Ye.jsxs)("span",{children:[" ",b,"/",d]})]}),j&&Object(Ye.jsxs)("h4",{children:["Comprobante: ",Object(Ye.jsx)("a",{href:j,target:"_blank",rel:"noreferrer",children:"Ver comprobante"})]}),Object(Ye.jsxs)("h4",{children:["Descripcion: ",Object(Ye.jsx)("span",{children:u})]}),Object(Ye.jsxs)("h4",{children:["Estado: ",Object(Ye.jsx)("span",{children:l})]})]}),"pendiente"===l&&Object(Ye.jsx)("button",{onClick:function(t){t.preventDefault(),e(We({tipo:"saldar deuda"}))},className:"btn boton-saldar",children:"Saldar cuota"})]})},At=a(18),Pt=a(24),It=a.n(Pt),Et=function(e){if(e){if((e=e.toString()).includes("script"))return!0;for(var t=0,a=["<",">",'"',"'","script"];t<a.length;t++){var n=a[t];if(e.includes(n))return!0}return!1}},Ft=function(e){var t,a,n,c,r,o,s,i,u,l,d,b,j,m,p,v,h,O,f,x,g,C,N,y,S,_,k;return"string"===typeof e&&(e.length<1||""===e||"-"===e||Et(e))?{ok:!1,msg:"input no valido"}:e.fecha>Date.now()?{ok:!1,msg:"La fecha debe ser igual o menor al dia de hoy"}:(null===(t=e.cuenta)||void 0===t?void 0:t.length)<1||""===e.cuenta||"-"===e.cuenta||Et(e.cuenta)?{ok:!1,msg:"Ingrese una cuenta v\xe1lida"}:""===e.nuevaCuenta||!isNaN(e.nuevaCuenta)||(null===(a=e.nuevaCuenta)||void 0===a?void 0:a.length)<2||Et(e.nuevaCuenta)?{ok:!1,msg:"Ingrese una nueva cuenta v\xe1lida"}:(null===(n=e.from)||void 0===n?void 0:n.cuenta.length)<1||""===(null===(c=e.from)||void 0===c?void 0:c.cuenta)||"-"===(null===(r=e.from)||void 0===r?void 0:r.cuenta)||Et(null===(o=e.from)||void 0===o?void 0:o.cuenta)?{ok:!1,msg:"Ingrese una cuenta a debitar v\xe1lida"}:(null===(s=e.to)||void 0===s?void 0:s.cuenta.length)<1||""===(null===(i=e.to)||void 0===i?void 0:i.cuenta)||"-"===(null===(u=e.to)||void 0===u?void 0:u.cuenta)||Et(null===(l=e.to)||void 0===l?void 0:l.cuenta)?{ok:!1,msg:"Ingrese una cuenta a acreditar v\xe1lida"}:(null===(d=e.subcuenta)||void 0===d?void 0:d.length)<1||""===e.subcuenta||"-"===e.subcuenta||Et(e.subcuenta)?{ok:!1,msg:"Ingrese una subcuenta v\xe1lida"}:""===e.nuevaSubcuenta||!isNaN(e.nuevaSubcuenta)||(null===(b=e.nuevaSubcuenta)||void 0===b?void 0:b.length)<2||Et(e.nuevaSubcuenta)?{ok:!1,msg:"Ingrese una nueva subcuenta v\xe1lida"}:(null===(j=e.from)||void 0===j?void 0:j.subcuenta.length)<1||""===(null===(m=e.from)||void 0===m?void 0:m.subcuenta)||"-"===(null===(p=e.from)||void 0===p?void 0:p.subcuenta)||Et(null===(v=e.from)||void 0===v?void 0:v.cuenta)?{ok:!1,msg:"Ingrese una subcuenta a debitar v\xe1lida"}:(null===(h=e.to)||void 0===h?void 0:h.subcuenta.length)<1||""===(null===(O=e.to)||void 0===O?void 0:O.subcuenta)||"-"===(null===(f=e.to)||void 0===f?void 0:f.subcuenta)||Et(null===(x=e.to)||void 0===x?void 0:x.cuenta)?{ok:!1,msg:"Ingrese una subcuenta a acreditar v\xe1lida"}:""===e.prestador||!isNaN(e.prestador)||(null===(g=e.prestador)||void 0===g?void 0:g.length)<2||Et(e.prestador)?{ok:!1,msg:"Ingrese un prestador v\xe1lido"}:""===e.tomador||!isNaN(e.tomador)||(null===(C=e.tomador)||void 0===C?void 0:C.length)<2||Et(e.tomador)?{ok:!1,msg:"Ingrese un tomador v\xe1lido"}:(null===(N=e.categoria)||void 0===N?void 0:N.length)<1||""===e.categoria||"-"===e.categoria||Et(e.categoria)?{ok:!1,msg:"Ingrese una categoria v\xe1lida"}:(null===(y=e.nombre)||void 0===y?void 0:y.length)<1||""===e.nombre||"-"===e.nombre||Et(e.nombre)?{ok:!1,msg:"Ingrese un nuevo nombre de categoria v\xe1lido"}:(null===(S=e.sector)||void 0===S?void 0:S.length)<1||""===e.sector||"-"===e.sector||Et(e.sector)?{ok:!1,msg:"Ingrese un nuevo nombre de sector v\xe1lido"}:void 0!==e.cantidad&&(e.cantidad<=0||""===e.cantidad||"-"===e.cantidad||isNaN(e.cantidad)||Et(e.cantidad))?{ok:!1,msg:"Ingrese una cantidad v\xe1lida (mayor a cero)"}:Et(e.descripcion)?{ok:!1,msg:'Descripcion no valida (evite los signos como: "<, >, "", `` )'}:""===e.nuevaCategoria||!isNaN(e.nuevaCategoria)||(null===(_=e.nuevaCategoria)||void 0===_?void 0:_.length)<2||Et(e.nuevaCategoria)?{ok:!1,msg:"Ingrese un nuevo nombre de categoria v\xe1lido"}:void 0!==e.cuotasAPagar&&(e.cuotasAPagar<=0||""===e.cuotasAPagar||"-"===e.cuotasAPagar||isNaN(e.cuotasAPagar)||Et(e.cuotasAPagar))?{ok:!1,msg:"Ingrese una cantidad de cuotas v\xe1lida (mayor a cero)"}:void 0!==e.cantidadAPagar&&(e.cantidadAPagar<=0||""===e.cantidadAPagar||"-"===e.cantidadAPagar||isNaN(e.cantidadAPagar)||Et(e.cantidadAPagar))?{ok:!1,msg:"Ingrese una cantidad v\xe1lida (mayor a cero)"}:void 0!==e.cuotas&&(e.cuotas<=0||""===e.cuotas||"-"===e.cuotas||isNaN(e.cuotas)||Et(e.cuotas))?{ok:!1,msg:"Ingrese una cantidad de cuotas v\xe1lida (mayor a cero)"}:(null===(k=e.monedaValuacion)||void 0===k?void 0:k.length)<1||""===e.monedaValuacion||"-"===e.monedaValuacion||Et(e.monedaValuacion)?{ok:!1,msg:"Ingrese una moneda para valuaci\xf3n v\xe1lida"}:{ok:!0}},Dt=function(e){var t=Object(r.c)((function(e){return e.movs})),a=t.movs,n=t.activeMov,c=Object(r.c)((function(e){return e.modals})).typeModal,o=Object(r.c)((function(e){return e.cats})).categorias,s=Object(r.c)((function(e){return e.cuentas})).cuentas,i=a.filter((function(e){return"prestamo"!==e.tipo&&"transferencia"!==e.tipo&&"deuda"!==e.tipo})),u=s.map((function(e){return e.nombre})),l=[];return l=e?o.filter((function(t){return t.tipo===e})).map((function(e){return e.nombre})).sort():o.filter((function(e){return e.tipo===c})).map((function(e){return e.nombre})).sort(),{movs:a,activeMov:n,typeModal:c,totalMovimientos:i,cuentas:s,nombreCuentas:u,nombreCategorias:l}},Mt=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.cloudinary.com/v1_1/dnnlsb3bs/upload",(a=new FormData).append("upload_preset","cuentas-claras"),a.append("file",t),e.prev=4,e.next=7,fetch("https://api.cloudinary.com/v1_1/dnnlsb3bs/upload",{method:"POST",body:a});case 7:if(!(n=e.sent).ok){e.next=15;break}return e.next=11,n.json();case 11:return c=e.sent,e.abrupt("return",c.secure_url);case 15:return e.next=17,n.json();case 17:throw e.sent;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}(),Tt=function(e){var t=e.formValues,a=e.isLoading,n=e.setIsLoading,c=Object(s.useRef)(!0);Object(s.useEffect)((function(){return function(){c.current=!1}}),[]);var r=Object(s.useState)(t.url),i=Object(o.a)(r,2),u=i[0],l=i[1],d=Object(s.useRef)(),b=function(){var e=Object(p.a)(m.a.mark((function e(a){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),0!==a.target.files.length){e.next=5;break}l(!1),e.next=10;break;case 5:return n(!0),e.next=8,Mt(a.target.files[0]);case 8:r=e.sent,c.current&&(t.url=r,l(!0),n(!1));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ye.jsxs)("div",{className:"modal__section",children:[Object(Ye.jsx)("input",{ref:d,multiple:!1,onChange:b,type:"file",name:"factura",id:"factura",accept:".png, .jpg, .jpeg, .pdf"}),Object(Ye.jsx)("button",{className:"btn ".concat(u?"added":""),onClick:function(e){e.preventDefault(),d.current.click()},children:u?Object(Ye.jsxs)(Ye.Fragment,{children:["Comprobante agregado ",Object(Ye.jsx)("i",{className:"bi bi-file-earmark-check"})]}):Object(Ye.jsxs)(Ye.Fragment,{children:["Agregar comprobante ",Object(Ye.jsx)("i",{className:"bi bi-file-earmark-arrow-up"})]})}),a&&Object(Ye.jsx)("p",{children:"Cargando..."})]})},Lt=function(e){var t=e.handleClose,a=Object(r.b)(),n=Object(s.useState)(!1),c=Object(o.a)(n,2),i=c[0],u=c[1],l=Object(s.useState)(!1),d=Object(o.a)(l,2),b=d[0],j=d[1],m=Object(s.useState)(""),p=Object(o.a)(m,2),v=p[0],O=p[1],f=Object(s.useState)({nombre:"",sector:""}),x=Object(o.a)(f,2),g=x[0],C=x[1],N=Object(s.useState)(""),y=Object(o.a)(N,2),S=y[0],_=y[1],k=Dt("gasto"),w=k.activeMov,A=k.nombreCuentas,P=k.nombreCategorias,I=k.cuentas,E=Xe(w||{fecha:Date.now(),cuenta:A[0],prestador:"",tipo:"deuda",categoria:P[0],cantidad:0,cantidadPagada:0,cuotas:1,cuotasPagadas:0,descripcion:"",estado:"pendiente"}),F=Object(o.a)(E,3),D=F[0],M=F[1],T=F[2];return Object(Ye.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=Ft(D);if(n.ok){if("nuevaCuenta"===D.cuenta){var c=Ft(v);if(!c.ok)return void j(c.msg);D.cuenta=v,a(Ce({nombre:v,subcuentas:[]}))}if("nuevaCategoria"===D.categoria){var r=Ft(g);if(!r.ok)return void j(r.msg);D.categoria=g.nombre,a(je({nombre:g.nombre,tipo:"gasto",sector:g.sector}))}if("nuevoActivo"===D.categoria){var o=Ft(S);if(!o.ok)return void j(o.msg);D.categoria=S,a(ye({id:I.find((function(e){return"Activos"===e.nombre})).id,nombre:"Activos",subcuentas:[].concat(Object(At.a)(I.find((function(e){return"Activos"===e.nombre})).subcuentas),[S])}))}w?(a(ze(D)),h.a.fire("Nueva edici\xf3n","Movimiento editado correctamente","success")):(a(Fe(Object(ie.a)(Object(ie.a)({},D),{},{id:Date.now()}),"nuevaDeuda")),h.a.fire("Nueva deuda","Movimiento creado correctamente","success")),t(e)}else j(n.msg)},children:[Object(Ye.jsxs)("div",{className:"form-container",children:[Object(Ye.jsx)("h1",{children:w?"Editar movimiento":"Nueva deuda"}),b&&Object(Ye.jsx)("div",{className:"msg-error",children:b}),Object(Ye.jsx)(It.a,{onChange:T,value:D.fecha,name:"fecha",format:"dd-MM-y",className:"calendar"}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-principal",children:[Object(Ye.jsx)("label",{htmlFor:"cuenta",children:"Cuenta: "}),Object(Ye.jsxs)("select",{name:"cuenta",value:D.cuenta,onChange:M,children:[A.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaCuenta",children:"...nueva cuenta"})]}),"nuevaCuenta"===D.cuenta&&Object(Ye.jsx)("input",{value:v,onChange:function(e){return O(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva cuenta"})]}),Object(Ye.jsxs)("div",{className:"modal__section",children:[Object(Ye.jsx)("label",{htmlFor:"prestador",children:"Prestador: "}),Object(Ye.jsx)("div",{className:"prestador",children:Object(Ye.jsx)("input",{type:"text",name:"prestador",value:D.prestador,onChange:M,placeholder:"Nombre del prestador"})})]}),Object(Ye.jsxs)("div",{className:"modal__section motivo",children:[Object(Ye.jsx)("label",{htmlFor:"motivo",children:"Motivo: "}),Object(Ye.jsxs)("select",{name:"categoria",value:D.categoria,onChange:M,className:"nuevaCategoria"===D.categoria?"un-focus":"",children:[Object(Ye.jsxs)("optgroup",{label:"Categorias",children:[P.map((function(e){return Object(Ye.jsx)("option",{value:e,multiple:!1,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaCategoria",children:"...nueva categoria"})]}),Object(Ye.jsxs)("optgroup",{label:"Activos",children:[I.find((function(e){return"Activos"===e.nombre})).subcuentas.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevoActivo",children:"...nuevo bien personal"})]})]}),"nuevaCategoria"===D.categoria&&Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("label",{htmlFor:"nuevaCategoria",children:"Nombre nueva categoria:"}),Object(Ye.jsx)("input",{id:"nuevaCategoria",name:"nombre",value:g.nombre,onChange:function(e){return C(Object(ie.a)(Object(ie.a)({},g),{},Object(Qe.a)({},e.target.name,e.target.value)))},autoFocus:!0,type:"text",placeholder:"Ej. Comida, Boliche, Sueldo"}),Object(Ye.jsx)("label",{htmlFor:"nuevoSector",children:"Sector:"}),Object(Ye.jsx)("input",{id:"nuevoSector",name:"sector",value:g.sector,onChange:function(e){return C(Object(ie.a)(Object(ie.a)({},g),{},Object(Qe.a)({},e.target.name,e.target.value)))},type:"text",placeholder:"Ej. Hogar, Higiene, Salud"})]}),"nuevoActivo"===D.categoria&&Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("label",{htmlFor:"nuevoActivo",children:"Nombre nuevo bien personal:"}),Object(Ye.jsx)("input",{id:"nuevoActivo",name:"nombre",value:S,onChange:function(e){return _(e.target.value)},autoFocus:!0,type:"text",placeholder:"Ej. Auto, moto, depto"})]})]}),Object(Ye.jsxs)("div",{className:"modal__section ",children:[Object(Ye.jsx)("label",{htmlFor:"cantidad",children:"Cantidad: "}),Object(Ye.jsxs)("div",{className:"cantidad",children:["$",Object(Ye.jsx)("input",{type:"number",name:"cantidad",value:D.cantidad,onChange:M,placeholder:"1000",min:1})]})]}),Object(Ye.jsxs)("div",{className:"modal__section ",children:[Object(Ye.jsx)("label",{htmlFor:"cuotas",children:"Cuotas: "}),Object(Ye.jsx)("input",{type:"number",name:"cuotas",value:D.cuotas,onChange:M,placeholder:"1",min:1})]}),Object(Ye.jsx)(Tt,{formValues:D,isLoading:i,setIsLoading:u}),Object(Ye.jsx)("textarea",{className:"textarea",name:"descripcion",value:D.descripcion,onChange:M,placeholder:"Descripci\xf3n(opcional)"})]}),Object(Ye.jsxs)("div",{className:"botones",children:[Object(Ye.jsx)("button",{className:" btn boton-submit",disabled:!!i,type:"submit",children:"Guardar"}),Object(Ye.jsx)("button",{onClick:t,className:"btn btn-secondary boton-cancel",children:"Cancelar"}),w&&Object(Ye.jsx)("button",{onClick:function(e){e.preventDefault(),window.confirm("\xbfSeguro que desea eliminar el evento? No podra recupararlo despues")&&(a(Be(w.id)),t(e),h.a.fire("Eliminado","Movimiento eliminado correctamente","success"))},className:" btn btn-danger boton-eliminar",children:"Eliminar"})]})]})},Vt=function(e){var t=e.modo,a=e.handleClose;return Object(Ye.jsx)(Ye.Fragment,{children:"solo ver"===t?Object(Ye.jsx)(wt,{handleClose:a}):Object(Ye.jsx)(Lt,{handleClose:a})})},Ut=function(e){var t,a=e.handleClose,n=Object(r.b)(),c=Object(r.c)((function(e){return e.cuentas})).cuentas,i=Object(s.useState)(""),u=Object(o.a)(i,2),l=u[0],d=u[1],b=Object(s.useState)(!1),j=Object(o.a)(b,2),m=j[0],p=j[1],v=Dt("gasto"),O=v.activeMov,f=v.nombreCuentas,x=v.nombreCategorias,g=Xe(Object(ie.a)(Object(ie.a)({},O),{},{subcuenta:"-",cuotasAPagar:1,cantidadAPagar:O.cantidad-O.cantidadPagada})),C=Object(o.a)(g,3),N=C[0],y=C[1],S=C[2];return t="nuevaCuenta"===N.cuenta?"-":c.find((function(e){return e.nombre===N.cuenta})).subcuentas,Object(Ye.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),c.find((function(e){return"Activos"===e.nombre})).subcuentas.forEach((function(e){N.categoria})),parseInt(N.cantidad)-parseInt(N.cantidadPagada)-parseInt(N.cantidadAPagar)===0&&parseInt(N.cuotas)-parseInt(N.cuotasPagadas)-parseInt(N.cuotasAPagar)>0)h.a.fire("Cuidado","Estas tratando de abonar el total sin terminar de abonar todas las cuotas, por favor completa con las cuotas restantes o revisa el monto","error");else if(parseInt(N.cantidad)-parseInt(N.cantidadPagada)-parseInt(N.cantidadAPagar)>0&&parseInt(N.cuotas)-parseInt(N.cuotasPagadas)-parseInt(N.cuotasAPagar)===0)h.a.fire("Cuidado","Estas tratando de abonar el total de las cuotas sin terminar de abonar la cantidad total, por favor completa con el monto restante o revisa las cuotas","error");else{var t=Ft(N);if(t.ok){if("nuevaCuenta"!==N.cuenta&&"nuevaSubcuenta"===N.subcuenta){var r=Ft(l);if(!r.ok)return void p(r.msg);N.subcuenta=l,n(ye({id:c.find((function(e){return e.nombre===N.cuenta})).id,nombre:N.cuenta,subcuentas:[].concat(Object(At.a)(c.find((function(e){return e.nombre===N.cuenta})).subcuentas),[l])}))}O.cuotasPagadas=N.cuotasPagadas+parseInt(N.cuotasAPagar),O.cantidadPagada=N.cantidadPagada+parseInt(N.cantidadAPagar),O.estado=N.cuotas-N.cuotasPagadas-N.cuotasAPagar>0?"pendiente":"saldado",n(ze(O)),n(Fe({id:Date.now(),idReferencia:N.id,fecha:N.fecha,cantidad:N.cantidadAPagar,cuenta:N.cuenta,subcuenta:N.subcuenta,categoria:N.categoria,aQuien:O.prestador,tipo:"gasto",cuotas:N.cuotasAPagar},"nuevoGasto")),h.a.fire("Pago realizado","".concat(N.cuotasAPagar," cuotas abonadas correctamente"),"success"),a(e)}else p(t.msg)}},children:[Object(Ye.jsxs)("div",{className:"form-container",children:[Object(Ye.jsx)("h1",{children:"Saldar deuda"}),m&&Object(Ye.jsx)("div",{className:"msg-error",children:m}),Object(Ye.jsx)(It.a,{onChange:S,value:N.fecha,name:"fecha",format:"dd-MM-y",className:"calendar"}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-principal",children:[Object(Ye.jsx)("label",{htmlFor:"cuenta",children:"Cuenta: "}),Object(Ye.jsxs)("select",{disabled:!0,name:"cuenta",value:N.cuenta,onChange:y,children:[f.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaCuenta",children:"nueva cuenta"})]})]}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-secundaria",children:[Object(Ye.jsx)("label",{htmlFor:"subcuenta",children:"Subcuenta: "}),Object(Ye.jsxs)("select",{name:"subcuenta",value:N.subcuenta,onChange:y,children:[Object(Ye.jsx)("option",{value:"-",children:"-"}),t.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaSubcuenta",children:"nueva subcuenta"})]}),"nuevaSubcuenta"===N.subcuenta&&Object(Ye.jsx)("input",{value:l,onChange:function(e){return d(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva subcuenta"})]}),Object(Ye.jsxs)("div",{className:"modal__section",children:[Object(Ye.jsx)("label",{htmlFor:"prestador",children:"Prestador: "}),Object(Ye.jsx)("div",{className:"prestador",children:Object(Ye.jsx)("input",{disabled:!0,type:"text",name:"prestador",value:N.prestador,onChange:y,placeholder:"Nombre"})})]}),Object(Ye.jsxs)("div",{className:"modal__section motivo",children:[Object(Ye.jsx)("label",{htmlFor:"motivo",children:"Motivo: "}),Object(Ye.jsxs)("select",{disabled:!0,name:"categoria",value:N.categoria,onChange:y,children:[Object(Ye.jsxs)("optgroup",{label:"Categorias",children:[x.map((function(e){return Object(Ye.jsx)("option",{value:e,multiple:!1,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaCategoria",children:"...nueva categoria"})]}),Object(Ye.jsxs)("optgroup",{label:"Activos",children:[c.find((function(e){return"Activos"===e.nombre})).subcuentas.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevoActivo",children:"...nuevo bien personal"})]})]})]}),Object(Ye.jsxs)("div",{className:"modal__section ",children:[Object(Ye.jsx)("label",{htmlFor:"cantidadAPagar",children:"Cantidad: "}),Object(Ye.jsxs)("div",{className:"cantidad",children:["$",Object(Ye.jsx)("input",{disabled:parseInt(N.cuotas)-parseInt(N.cuotasPagadas)===1,type:"number",name:"cantidadAPagar",value:N.cantidadAPagar,max:parseInt(N.cantidad)-parseInt(N.cantidadPagada),min:0,onChange:y,placeholder:1})]}),Object(Ye.jsxs)("p",{children:["Quedarian abonar: $ ",O.cantidad-O.cantidadPagada]})]}),Object(Ye.jsxs)("div",{className:"modal__section ",children:[Object(Ye.jsx)("label",{htmlFor:"cuotasaPagar",children:"Cuotas: "}),Object(Ye.jsx)("input",{disabled:parseInt(N.cuotas)-parseInt(N.cuotasPagadas)===1,type:"number",name:"cuotasAPagar",value:N.cuotasAPagar,max:parseInt(N.cuotas)-parseInt(N.cuotasPagadas),min:1,onChange:y,placeholder:"1"}),Object(Ye.jsxs)("p",{children:["Quedarian: ",O.cuotas-O.cuotasPagadas," cuotas por pagar"]})]}),Object(Ye.jsx)("textarea",{className:"textarea",name:"descripcion",value:N.descripcion,onChange:y,placeholder:"Descripci\xf3n(opcional)"})]}),Object(Ye.jsxs)("div",{className:"botones",children:[Object(Ye.jsx)("button",{className:" btn boton-submit",type:"submit",children:"Saldar deuda"}),Object(Ye.jsx)("button",{onClick:a,className:"btn btn-secondary boton-cancel",children:"Cancelar"})]})]})},Rt=function(e){var t,a=e.handleClose,n=Object(r.b)(),c=Object(r.c)((function(e){return e.cuentas})).cuentas,i=Object(r.c)((function(e){return e.modals})).title,u=Object(s.useState)(""),l=Object(o.a)(u,2),d=l[0],b=l[1],j=Object(s.useState)(!1),m=Object(o.a)(j,2),p=m[0],v=m[1],O=Dt(),f=O.activeMov,x=O.nombreCuentas,g=Xe(Object(ie.a)(Object(ie.a)({},f),{},{cantidadAPagar:f.cantidad-f.cantidadPagada,cuotasAPagar:1})),C=Object(o.a)(g,3),N=C[0],y=C[1],S=C[2];return t="nuevaCuenta"===N.cuenta?"-":c.find((function(e){return e.nombre===N.cuenta})).subcuentas,Object(Ye.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),parseInt(N.cantidad)-parseInt(N.cantidadPagada)-parseInt(N.cantidadAPagar)===0&&parseInt(N.cuotas)-parseInt(N.cuotasPagadas)-parseInt(N.cuotasAPagar)>0)h.a.fire("Cuidado","Estas tratando de abonar el total sin terminar de abonar todas las cuotas, por favor completa con las cuotas restantes o revisa el monto","error");else if(parseInt(N.cantidad)-parseInt(N.cantidadPagada)-parseInt(N.cantidadAPagar)>0&&parseInt(N.cuotas)-parseInt(N.cuotasPagadas)-parseInt(N.cuotasAPagar)===0)h.a.fire("Cuidado","Estas tratando de abonar el total de las cuotas sin terminar de abonar la cantidad total, por favor completa con el monto restante o revisa las cuotas","error");else{var t=Ft(N);if(t.ok){if("nuevaCuenta"!==N.cuenta&&"nuevaSubcuenta"===N.subcuenta){var r=Ft(d);if(!r.ok)return void v(r.msg);N.subcuenta=d,n(ye({id:c.find((function(e){return e.nombre===N.cuenta})).id,nombre:N.cuenta,subcuentas:[].concat(Object(At.a)(c.find((function(e){return e.nombre===N.cuenta})).subcuentas),[d])}))}f.cuotasPagadas=N.cuotasPagadas+parseInt(N.cuotasAPagar),f.cantidadPagada=N.cantidadPagada+parseInt(N.cantidadAPagar),f.estado=N.cuotas-N.cuotasPagadas-N.cuotasAPagar>0?"pendiente":"saldado",n(ze(f)),"prestamo"===f.tipo?(n(Fe({id:Date.now(),idReferencia:N.id,fecha:N.fecha,cantidad:N.cantidadAPagar,cuenta:N.cuenta,subcuenta:N.subcuenta,categoria:"pago "+N.tipo,aQuien:f.prestador,cuotas:N.cuotasAPagar,tipo:"gasto"},"nuevoGasto")),h.a.fire("Pago realizado","".concat(N.cuotasAPagar," cuotas abonadas correctamente"),"success")):"deudaACobrar"===f.tipo&&(n(Fe({id:Date.now(),idReferencia:N.id,fecha:N.fecha,cantidad:N.cantidadAPagar,cuenta:N.cuenta,subcuenta:N.subcuenta,categoria:"cobro prestamo",deQuien:f.tomador,tipo:"ingreso",cuotas:N.cuotasAPagar},"nuevoIngreso")),h.a.fire("Cobro realizado","".concat(N.cuotasAPagar," cuotas cobradas correctamente"),"success")),a(e)}else v(t.msg)}},children:[Object(Ye.jsxs)("div",{className:"form-container",children:[Object(Ye.jsx)("h1",{children:"prestamo"===i?"Saldar Prestamo":"Saldar deuda a cobrar"}),p&&Object(Ye.jsx)("div",{className:"msg-error",children:p}),Object(Ye.jsx)(It.a,{onChange:S,value:N.fecha,name:"fecha",format:"dd-MM-y",className:"calendar"}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-principal",children:[Object(Ye.jsx)("label",{htmlFor:"cuenta",children:"Cuenta: "}),Object(Ye.jsxs)("select",{disabled:!0,name:"cuenta",value:N.cuenta,onChange:y,children:[x.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaCuenta",children:"nueva cuenta"})]})]}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-secundaria",children:[Object(Ye.jsx)("label",{htmlFor:"subcuenta",children:"Subcuenta: "}),Object(Ye.jsxs)("select",{name:"subcuenta",value:N.subcuenta,onChange:y,children:[Object(Ye.jsx)("option",{value:"-",children:"-"}),"nuevaCuenta"!==N.cuenta&&t.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaSubcuenta",children:"nueva subcuenta"})]}),"nuevaSubcuenta"===N.subcuenta&&Object(Ye.jsx)("input",{value:d,onChange:function(e){return b(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva subcuenta"})]}),Object(Ye.jsx)("div",{className:"modal__section",children:N.prestador?Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("label",{htmlFor:"prestador",children:"Prestador: "}),Object(Ye.jsx)("div",{className:"prestador",children:Object(Ye.jsx)("input",{disabled:!0,type:"text",name:"prestador",value:N.prestador,onChange:y,placeholder:"Nombre"})})]}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("label",{htmlFor:"tomador",children:"Tomador: "}),Object(Ye.jsx)("div",{className:"tomador",children:Object(Ye.jsx)("input",{disabled:!0,type:"text",name:"tomador",value:N.tomador,onChange:y,placeholder:"Nombre"})})]})}),Object(Ye.jsxs)("div",{className:"modal__section ",children:[Object(Ye.jsx)("label",{htmlFor:"cantidadAPagar",children:"Cantidad: "}),Object(Ye.jsxs)("div",{className:"cantidad",children:["$",Object(Ye.jsx)("input",{disabled:parseInt(N.cuotas)-parseInt(N.cuotasPagadas)===1,type:"number",name:"cantidadAPagar",value:N.cantidadAPagar,max:parseInt(N.cantidad)-parseInt(N.cantidadPagada),min:1,onChange:y,placeholder:1})]}),Object(Ye.jsxs)("p",{children:["Quedarian abonar: $ ",f.cantidad-f.cantidadPagada]})]}),Object(Ye.jsxs)("div",{className:"modal__section ",children:[Object(Ye.jsx)("label",{htmlFor:"cuotasaPagar",children:"Cuotas: "}),Object(Ye.jsx)("input",{disabled:parseInt(N.cuotas)-parseInt(N.cuotasPagadas)===1,type:"number",name:"cuotasAPagar",value:N.cuotasAPagar,max:parseInt(N.cuotas)-parseInt(N.cuotasPagadas),min:1,onChange:y,placeholder:"1"}),Object(Ye.jsxs)("p",{children:["Quedarian: ",f.cuotas-f.cuotasPagadas," cuotas por pagar"]})]}),Object(Ye.jsx)("textarea",{className:"textarea",name:"descripcion",value:N.descripcion,onChange:y,placeholder:"Descripci\xf3n(opcional)"})]}),Object(Ye.jsxs)("div",{className:"botones",children:[Object(Ye.jsx)("button",{className:" btn boton-submit",type:"submit",children:"Saldar cuota"}),Object(Ye.jsx)("button",{onClick:a,className:"btn btn-secondary boton-cancel",children:"Cancelar"})]})]})},zt=function(){var e=Object(r.c)((function(e){return e.movs.activeMov})),t=e.cantidad,a=e.categoria,n=e.cuenta,c=e.subcuenta,o=e.fecha,s=e.descripcion,i=e.cuotas,u=e.aQuien,l=e.url;return Object(Ye.jsxs)("div",{className:"detalle__form",children:[Object(Ye.jsx)("h1",{children:"Detalle gasto"}),Object(Ye.jsxs)("section",{className:"detalle__section",children:[Object(Ye.jsxs)("h4",{children:["Tipo: ",Object(Ye.jsx)("span",{children:" Gasto "})]}),Object(Ye.jsxs)("h4",{children:["Fecha: ",Object(Ye.jsx)("span",{children:o.toLocaleDateString()})]}),Object(Ye.jsxs)("h4",{children:["Cantidad: ",Object(Ye.jsxs)("span",{children:["$ ",Math.abs(t)]})]}),Object(Ye.jsxs)("h4",{children:["Cuenta debitada: ",Object(Ye.jsx)("span",{children:n})]}),Object(Ye.jsxs)("h4",{children:["Subcuenta: ",Object(Ye.jsx)("span",{children:c})]}),i&&Object(Ye.jsxs)("h4",{children:["Cuotas: ",Object(Ye.jsx)("span",{children:i})]}),Object(Ye.jsxs)("h4",{children:["Motivo: ",Object(Ye.jsx)("span",{children:a})]}),u&&Object(Ye.jsxs)("h4",{children:["Pago a: ",Object(Ye.jsx)("span",{children:u})]}),l&&Object(Ye.jsxs)("h4",{children:["Comprobante: ",Object(Ye.jsx)("a",{href:l,target:"_blank",rel:"noreferrer",children:"Ver comprobante"})]}),Object(Ye.jsxs)("h4",{children:["Descripcion: ",Object(Ye.jsx)("span",{children:s})]})]})]})},Gt=function(e){var t=e.handleClose,a=Object(r.b)(),n=Object(r.c)((function(e){return e.cuentas})).cuentas,c=Object(r.c)((function(e){return e.pares})).pares,i=Object(s.useState)(!1),u=Object(o.a)(i,2),l=u[0],d=u[1],b=Object(s.useState)(!1),j=Object(o.a)(b,2),v=j[0],f=j[1],x=Object(s.useState)(""),g=Object(o.a)(x,2),N=g[0],y=g[1],S=Object(s.useState)(""),_=Object(o.a)(S,2),k=_[0],w=_[1],A=Object(s.useState)({nombre:"",sector:""}),P=Object(o.a)(A,2),I=P[0],E=P[1],F=Object(s.useState)(""),D=Object(o.a)(F,2),M=D[0],T=D[1],L=Dt(),V=L.typeModal,U=L.activeMov,R=L.nombreCuentas,z=L.nombreCategorias,G=L.movs,B=Xe(U||{fecha:new Date,cuenta:R[0],subcuenta:n.find((function(e){return e.nombre===R[0]})).subcuentas[0],categoria:z[0],cantidad:"",descripcion:"",url:""}),$=Object(o.a)(B,3),q=$[0],H=$[1],Q=$[2];q.fecha=new Date(q.fecha);var X,Y=(null===U||void 0===U?void 0:U.idReferencia)&&G.find((function(e){return e.id===U.idReferencia}));return X="nuevaCuenta"===q.cuenta?"-":n.find((function(e){return e.nombre===q.cuenta})).subcuentas,Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),q.fecha=Date.parse(q.fecha),parseInt(null===Y||void 0===Y?void 0:Y.cantidad)-(parseInt(null===Y||void 0===Y?void 0:Y.cantidadPagada)-(null===U||void 0===U?void 0:U.cantidad))-parseInt(q.cantidad)===0&&parseInt(null===Y||void 0===Y?void 0:Y.cuotas)-(parseInt(null===Y||void 0===Y?void 0:Y.cuotasPagadas)-(null===U||void 0===U?void 0:U.cuotas))-parseInt(q.cuotas)>0)h.a.fire("Cuidado","Estas tratando de abonar el total sin terminar de abonar todas las cuotas, por favor completa con las cuotas restantes o revisa el monto","error");else if(parseInt(null===Y||void 0===Y?void 0:Y.cantidad)-(parseInt(null===Y||void 0===Y?void 0:Y.cantidadPagada)-(null===U||void 0===U?void 0:U.cantidad))-parseInt(q.cantidad)>0&&parseInt(null===Y||void 0===Y?void 0:Y.cuotas)-(parseInt(null===Y||void 0===Y?void 0:Y.cuotasPagadas)-(null===U||void 0===U?void 0:U.cuotas))-parseInt(q.cuotas)===0)h.a.fire("Cuidado","Estas tratando de abonar el total de las cuotas sin terminar de abonar la cantidad total, por favor completa con el monto restante o revisa las cuotas","error");else{var r=Ft(q);if(r.ok){if("nuevaCuenta"===q.cuenta){if(!Ft({nuevaCuenta:N,nuevaSubcuenta:k}).ok)return void f("Nuevos nombres de cuentas no v\xe1lidos");q.cuenta=N,q.subcuenta=k,a(Ce({nombre:N,subcuentas:[k]}))}if("nuevaCuenta"!==q.cuenta&&"nuevaSubcuenta"===q.subcuenta){var o=Ft(k);if(!o.ok)return void f(o.msg);q.subcuenta=k,a(ye({id:n.find((function(e){return e.nombre===q.cuenta})).id,nombre:q.cuenta,subcuentas:[].concat(Object(At.a)(n.find((function(e){return e.nombre===q.cuenta})).subcuentas),[k])}))}if("nuevaCategoria"===q.categoria){var s=Ft(I);if(!s.ok)return void f(s.msg);q.categoria=I.nombre,a(je({nombre:I.nombre,tipo:V,sector:I.sector}))}var i;U?(U.idReferencia&&a((i={idReferencia:U.idReferencia,subcuenta:q.subcuenta,cantidadAnterior:parseInt(U.cantidad),cantidadNueva:parseInt(q.cantidad),cuotasAnterior:U.cuotas,cuotasNuevas:parseInt(q.cuotas)},function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.uid,e.next=3,Object(O.e)(Object(O.b)(C,"".concat(n,"/app/movimientos")));case 3:e.sent.forEach((function(e){e.id===i.idReferencia&&t(ze(Object(ie.a)(Object(ie.a)({},e.data()),{},{id:e.id,subcuenta:i.subcuenta,cantidadPagada:e.data().cantidadPagada-i.cantidadAnterior+i.cantidadNueva,cuotasPagadas:e.data().cuotasPagadas-i.cuotasAnterior+i.cuotasNuevas,estado:e.data().cantidad-(e.data().cantidadPagada-i.cantidadAnterior)-i.cantidadNueva>0?"pendiente":"saldado"})))}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())),a(ze(q)),h.a.fire("Nueva edici\xf3n","Movimiento editado correctamente","success")):"ingreso"===V?("Activos"===q.cuenta&&(q.cantidad=ot([{nombre:M,valor:parseInt(q.cantidad)}],"USD",c),q.monedaValuacion="USD"),a(Fe(Object(ie.a)({tipo:V},q),"nuevoIngreso")),h.a.fire("Nuevo movimiento","Movimiento creado correctamente","success")):"gasto"===V&&(a(Fe(Object(ie.a)({tipo:V},q),"nuevoGasto")),h.a.fire("Nuevo movimiento","Movimiento creado correctamente","success")),t(e)}else f(r.msg)}},children:[Object(Ye.jsxs)("div",{className:"form-container",children:[Object(Ye.jsxs)("h1",{children:[U?"Editar movimiento":"Nuevo ".concat(V)," "]}),v&&Object(Ye.jsx)("div",{className:"msg-error",children:v}),Object(Ye.jsx)(It.a,{onChange:Q,value:q.fecha,name:"fecha",format:"dd-MM-y",className:"calendar",maxDate:new Date}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-principal",children:[Object(Ye.jsx)("label",{htmlFor:"cuenta",children:"ingreso"===V?"Cuenta a acreditar:":"Cuenta a debitar:"}),Object(Ye.jsxs)("select",{disabled:!!(null===U||void 0===U?void 0:U.idReferencia),name:"cuenta",value:q.cuenta,onChange:H,children:[R.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaCuenta",children:"...nueva cuenta"})]}),"nuevaCuenta"===q.cuenta&&Object(Ye.jsx)("input",{value:N,onChange:function(e){return y(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva cuenta"})]}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-secundaria",children:[Object(Ye.jsx)("label",{htmlFor:"subcuenta",children:"Subcuenta: "}),Object(Ye.jsxs)("select",{name:"subcuenta",value:q.subcuenta,onChange:H,children:[Object(Ye.jsx)("option",{value:"-",children:"-"}),"nuevaCuenta"!==q.cuenta&&X.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaSubcuenta",children:"...nueva subcuenta"})]}),"nuevaSubcuenta"===q.subcuenta&&Object(Ye.jsx)("input",{value:k,onChange:function(e){return w(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva subcuenta"})]}),"Activos"===q.cuenta&&Object(Ye.jsxs)("div",{className:"modal__section",children:[Object(Ye.jsx)("label",{htmlFor:"monedaValuacion",children:"En que moneda se valua:"}),Object(Ye.jsxs)("select",{name:"monedaValuacion",id:"monedaValuacion",value:M,onChange:function(e){return T(e.target.value)},children:[Object(Ye.jsx)("option",{value:"-",children:"-"}),R.filter((function(e){return"Activos"!==e})).map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)}))]})]}),Object(Ye.jsxs)("div",{className:"modal__section motivo",children:[Object(Ye.jsx)("label",{htmlFor:"motivo",children:"Motivo: "}),Object(Ye.jsxs)("select",{disabled:!!(null===U||void 0===U?void 0:U.idReferencia),name:"categoria",value:q.categoria,onChange:H,children:[z.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaCategoria",children:"...nueva categoria"})]}),"nuevaCategoria"===q.categoria&&Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("label",{htmlFor:"nuevaCategoria",children:"Nombre nueva categoria:"}),Object(Ye.jsx)("input",{id:"nuevaCategoria",name:"nombre",value:I.nombre,onChange:function(e){return E(Object(ie.a)(Object(ie.a)({},I),{},Object(Qe.a)({},e.target.name,e.target.value)))},autoFocus:!0,type:"text",placeholder:"Ej. Comida, Boliche, Sueldo"}),Object(Ye.jsx)("label",{htmlFor:"nuevoSector",children:"Sector:"}),Object(Ye.jsx)("input",{id:"nuevoSector",name:"sector",value:I.sector,onChange:function(e){return E(Object(ie.a)(Object(ie.a)({},I),{},Object(Qe.a)({},e.target.name,e.target.value)))},type:"text",placeholder:"Ej. Hogar, Higiene, Salud"})]})]}),Object(Ye.jsxs)("div",{className:"modal__section ",children:[Object(Ye.jsx)("label",{htmlFor:"cantidad",children:"Cantidad: "}),Object(Ye.jsxs)("div",{className:"cantidad",children:["$",Object(Ye.jsx)("input",{type:"number",name:"cantidad",value:q.cantidad,onChange:H,max:Y&&(null===Y||void 0===Y?void 0:Y.cantidad)-((null===Y||void 0===Y?void 0:Y.cantidadPagada)-(null===U||void 0===U?void 0:U.cantidad)),min:1,placeholder:"1000"})]}),(null===U||void 0===U?void 0:U.idReferencia)&&Object(Ye.jsxs)("p",{children:["La cantidad restante es: ",(null===Y||void 0===Y?void 0:Y.cantidad)-((null===Y||void 0===Y?void 0:Y.cantidadPagada)-(null===U||void 0===U?void 0:U.cantidad))]})]}),(null===U||void 0===U?void 0:U.idReferencia)&&Object(Ye.jsxs)("div",{className:"modal__section ",children:[Object(Ye.jsx)("label",{htmlFor:"cuotasaPagar",children:"Cuotas: "}),Object(Ye.jsx)("input",{type:"number",name:"cuotas",value:q.cuotas,max:(null===Y||void 0===Y?void 0:Y.cuotas)-((null===Y||void 0===Y?void 0:Y.cuotasPagadas)-(null===U||void 0===U?void 0:U.cuotas)),min:1,onChange:H,placeholder:"1"}),Object(Ye.jsxs)("p",{children:["Cuotas restantes: ",(null===Y||void 0===Y?void 0:Y.cuotas)-((null===Y||void 0===Y?void 0:Y.cuotasPagadas)-(null===U||void 0===U?void 0:U.cuotas))]})]}),Object(Ye.jsx)(Tt,{formValues:q,isLoading:l,setIsLoading:d}),Object(Ye.jsx)("textarea",{className:"textarea",name:"descripcion",value:q.descripcion,onChange:H,placeholder:"Descripci\xf3n(opcional)"})]}),Object(Ye.jsxs)("div",{className:"botones",children:[Object(Ye.jsx)("button",{className:" btn boton-submit",disabled:!!l,type:"submit",children:"Guardar"}),Object(Ye.jsx)("button",{onClick:t,className:"btn btn-secondary boton-cancel",children:"Cancelar"}),U&&Object(Ye.jsx)("button",{onClick:function(e){var n;e.preventDefault(),window.confirm("\xbfSeguro que desea eliminar el evento? No podra recupararlo despues")&&(a((n={idReferencia:U.idReferencia,cantidadAnterior:parseInt(U.cantidad),cuotasAnterior:U.cuotas},function(){var e=Object(p.a)(m.a.mark((function e(t,a){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a().auth.uid,e.next=3,Object(O.e)(Object(O.b)(C,"".concat(c,"/app/movimientos")));case 3:e.sent.forEach((function(e){e.id===n.idReferencia&&t(Ge(Object(ie.a)(Object(ie.a)({},e.data()),{},{id:e.id,cantidadPagada:e.data().cantidadPagada-n.cantidadAnterior,cuotasPagadas:e.data().cuotasPagadas-n.cuotasAnterior,estado:e.data().cantidad-(e.data().cuotasPagadas-n.cuotasAnterior)>0?"pendiente":"saldado"})))}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())),a(Be(U.id)),t(e),h.a.fire("Eliminado","Movimiento eliminado correctamente","success"))},className:" btn btn-danger boton-eliminar",children:"Eliminar"})]})]})})},Bt=function(e){var t=e.modo,a=e.handleClose;return Object(Ye.jsx)(Ye.Fragment,{children:"solo ver"===t?Object(Ye.jsx)(zt,{}):Object(Ye.jsx)(Gt,{handleClose:a})})},$t=function(){var e=Object(r.c)((function(e){return e.movs.activeMov})),t=e.cantidad,a=e.categoria,n=e.cuenta,c=e.subcuenta,o=e.fecha,s=e.descripcion,i=e.deQuien,u=e.url;return Object(Ye.jsxs)("div",{className:"detalle__form",children:[Object(Ye.jsx)("h1",{children:"Detalle ingreso"}),Object(Ye.jsxs)("section",{className:"detalle__section",children:[Object(Ye.jsxs)("h4",{children:["Tipo: ",Object(Ye.jsx)("span",{children:" Ingreso "})]}),Object(Ye.jsxs)("h4",{children:["Fecha: ",Object(Ye.jsx)("span",{children:new Date(o).toLocaleDateString()})]}),Object(Ye.jsxs)("h4",{children:["Cantidad: ",Object(Ye.jsxs)("span",{children:["$ ",Math.abs(t)]})]}),Object(Ye.jsxs)("h4",{children:["Cuenta acreditada: ",Object(Ye.jsx)("span",{children:n})]}),Object(Ye.jsxs)("h4",{children:["Subcuenta: ",Object(Ye.jsx)("span",{children:c})]}),Object(Ye.jsxs)("h4",{children:["Motivo: ",Object(Ye.jsx)("span",{children:a})]}),i&&Object(Ye.jsxs)("h4",{children:["Cobro a: ",Object(Ye.jsx)("span",{children:i})]}),u&&Object(Ye.jsxs)("h4",{children:["Comprobante: ",Object(Ye.jsx)("a",{href:u,target:"_blank",rel:"noreferrer",children:"Ver comprobante"})]}),Object(Ye.jsxs)("h4",{children:["Descripcion: ",Object(Ye.jsx)("span",{children:s})]})]})]})},qt=function(e){var t=e.modo,a=e.handleClose;return Object(Ye.jsx)(Ye.Fragment,{children:"solo ver"===t?Object(Ye.jsx)($t,{}):Object(Ye.jsx)(Gt,{handleClose:a})})},Ht=function(e){var t,a=e.handleClose,n=Object(r.b)(),c=Object(r.c)((function(e){return e.cuentas})).cuentas,i=Object(s.useState)(""),u=Object(o.a)(i,2),l=u[0],d=u[1],b=Object(s.useState)(""),j=Object(o.a)(b,2),m=j[0],p=j[1],v=Object(s.useState)(!1),O=Object(o.a)(v,2),f=O[0],x=O[1],g=Object(s.useState)(!1),C=Object(o.a)(g,2),N=C[0],y=C[1],S=Dt(),_=S.activeMov,k=S.nombreCuentas,w=Xe(_||{fecha:Date.now(),cuenta:k[0],subcuenta:c.find((function(e){return e.nombre===k[0]})).subcuentas[0],cantidad:0,cantidadPagada:0,tipo:"deudaACobrar",tomador:"",cuotas:1,cuotasPagadas:0,descripcion:"",estado:"pendiente"}),A=Object(o.a)(w,3),P=A[0],I=A[1],E=A[2];return t="nuevaCuenta"===P.cuenta?"-":c.find((function(e){return e.nombre===P.cuenta})).subcuentas,Object(Ye.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Ft(P);if(t.ok){if("nuevaCuenta"===P.cuenta){var r=Ft({nuevaCuenta:l,nuevaSubcuenta:m});if(!r.ok)return void x(r.msg);P.cuenta=l,P.subcuenta=m,n(Ce({nombre:l,subcuentas:[m]}))}if("nuevaCuenta"!==P.cuenta&&"nuevaSubcuenta"===P.subcuenta){var o=Ft(m);if(!o.ok)return void x(o.msg);P.subcuenta=m,n(ye({id:c.find((function(e){return e.nombre===P.cuenta})).id,nombre:P.cuenta,subcuentas:[].concat(Object(At.a)(c.find((function(e){return e.nombre===P.cuenta})).subcuentas),[m])}))}_?(n(ze(P)),h.a.fire("Nueva edici\xf3n","Movimiento editado correctamente","success")):(n(Fe(Object(ie.a)({},P),"nuevoPrestamo")),h.a.fire("Nueva deuda a cobrar","Movimiento creado correctamente","success")),a(e)}else x(t.msg)},children:[Object(Ye.jsxs)("div",{className:"form-container",children:[Object(Ye.jsx)("h1",{children:_?"Editar movimiento":"Nueva deuda a cobrar"}),f&&Object(Ye.jsx)("div",{className:"msg-error",children:f}),Object(Ye.jsx)(It.a,{onChange:E,value:P.fecha,name:"fecha",format:"dd-MM-y",className:"calendar"}),Object(Ye.jsxs)("div",{className:"modal__section",children:[Object(Ye.jsx)("label",{htmlFor:"tomador",children:"Tomador: "}),Object(Ye.jsx)("div",{className:"tomador",children:Object(Ye.jsx)("input",{type:"text",name:"tomador",value:P.tomador,onChange:I,placeholder:"Nombre del tomador"})})]}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-principal",children:[Object(Ye.jsx)("label",{htmlFor:"cuenta",children:"Cuenta: "}),Object(Ye.jsxs)("select",{name:"cuenta",value:P.cuenta,onChange:I,children:[k.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaCuenta",children:"...nueva cuenta"})]}),"nuevaCuenta"===P.cuenta&&Object(Ye.jsx)("input",{value:l,onChange:function(e){return d(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva cuenta"})]}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-secundaria",children:[Object(Ye.jsx)("label",{htmlFor:"subcuenta",children:"Subcuenta: "}),Object(Ye.jsxs)("select",{name:"subcuenta",value:P.subcuenta,onChange:I,children:[Object(Ye.jsx)("option",{value:"-",children:"-"}),"nuevaCuenta"!==P.cuenta&&t.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaSubcuenta",children:"...nueva subcuenta"})]}),"nuevaSubcuenta"===P.subcuenta&&Object(Ye.jsx)("input",{value:m,onChange:function(e){return p(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva subcuenta"})]}),Object(Ye.jsxs)("div",{className:"modal__section ",children:[Object(Ye.jsx)("label",{htmlFor:"cantidad",children:"Cantidad: "}),Object(Ye.jsxs)("div",{className:"cantidad",children:["$",Object(Ye.jsx)("input",{type:"number",name:"cantidad",value:P.cantidad,onChange:I,placeholder:"5000",min:1})]})]}),Object(Ye.jsxs)("div",{className:"modal__section ",children:[Object(Ye.jsx)("label",{htmlFor:"cuotas",children:"Cuotas: "}),Object(Ye.jsx)("input",{type:"number",name:"cuotas",value:P.cuotas,onChange:I,placeholder:"1",min:1})]}),Object(Ye.jsx)(Tt,{formValues:P,isLoading:N,setIsLoading:y}),Object(Ye.jsx)("textarea",{className:"textarea",name:"descripcion",value:P.descripcion,onChange:I,placeholder:"Descripci\xf3n(opcional)"})]}),Object(Ye.jsxs)("div",{className:"botones",children:[Object(Ye.jsx)("button",{className:" btn boton-submit",disabled:!!N,type:"submit",children:"Guardar"}),Object(Ye.jsx)("button",{onClick:a,className:"btn btn-secondary boton-cancel",children:"Cancelar"}),_&&Object(Ye.jsx)("button",{onClick:function(e){e.preventDefault(),window.confirm("\xbfSeguro que desea eliminar el evento? No podra recupararlo despues")&&(n(Be(_.id)),a(e),h.a.fire("Eliminado","Movimiento eliminado correctamente","success"))},className:" btn btn-danger boton-eliminar",children:"Eliminar"})]})]})},Qt=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.movs})).activeMov,a=t.cantidad,n=t.cuenta,c=t.subcuenta,o=t.prestador,s=t.tomador,i=t.fecha,u=t.descripcion,l=t.estado,d=t.cantidadPagada,b=t.cuotas,j=t.cuotasPagadas,m=t.tipo,p=t.url;return Object(Ye.jsxs)("div",{className:"detalle__form",children:["prestamo"===m?Object(Ye.jsx)("h1",{children:"Detalle prestamo"}):Object(Ye.jsx)("h1",{children:"Detalle deuda a cobrar"}),Object(Ye.jsxs)("section",{className:"detalle__section",children:[Object(Ye.jsxs)("h4",{children:["Tipo: ",Object(Ye.jsx)("span",{children:"prestamo"===m?"Prestamo":"Deuda a cobrar"})]}),Object(Ye.jsxs)("h4",{children:["Fecha: ",Object(Ye.jsx)("span",{children:i.toLocaleDateString()})]}),Object(Ye.jsxs)("h4",{children:["Cantidad total: ",Object(Ye.jsxs)("span",{children:["$ ",Math.abs(a)]})]}),Object(Ye.jsxs)("h4",{children:["Cantidad abonada: ",Object(Ye.jsxs)("span",{children:["$ ",d]})]}),Object(Ye.jsxs)("h4",{children:["Cantidad restante: ",Object(Ye.jsxs)("span",{children:["$ ",Math.abs(a)-d]})]}),o?Object(Ye.jsxs)("h4",{children:["Prestador: ",Object(Ye.jsx)("span",{children:o})]}):Object(Ye.jsxs)("h4",{children:["Tomador: ",Object(Ye.jsx)("span",{children:s})]}),Object(Ye.jsxs)("h4",{children:["Cuenta: ",Object(Ye.jsx)("span",{children:n})]}),Object(Ye.jsxs)("h4",{children:["Subcuenta: ",Object(Ye.jsx)("span",{children:c})]}),Object(Ye.jsxs)("h4",{children:["Cuotas abonadas: ",Object(Ye.jsxs)("span",{children:[j,"/",b]})]}),p&&Object(Ye.jsxs)("h4",{children:["Comprobante: ",Object(Ye.jsx)("a",{href:p,target:"_blank",rel:"noreferrer",children:"Ver comprobante"})]}),Object(Ye.jsxs)("h4",{children:["Descripcion: ",Object(Ye.jsx)("span",{children:u})]}),Object(Ye.jsxs)("h4",{children:["Estado: ",Object(Ye.jsx)("span",{children:l})]})]}),"pendiente"===l&&Object(Ye.jsx)("button",{onClick:function(t){t.preventDefault(),e(We({tipo:"saldar prestamo",title:m}))},className:"btn boton-saldar",children:"Saldar cuota"})]})},Xt=function(e){var t,a,n,c=e.handleClose,i=e.typeModal,u=Object(r.b)(),l=Object(r.c)((function(e){return e.cuentas})).cuentas,d=Object(s.useState)(""),b=Object(o.a)(d,2),j=b[0],m=b[1],p=Object(s.useState)(""),v=Object(o.a)(p,2),O=v[0],f=v[1],x=Object(s.useState)(!1),g=Object(o.a)(x,2),C=g[0],N=g[1],y=Object(s.useState)(!1),S=Object(o.a)(y,2),_=S[0],k=S[1],w=Dt(),A=w.activeMov,P=w.nombreCuentas,I=Xe(A||{fecha:Date.now(),cuenta:P[0],subcuenta:null===(t=l.find((function(e){return e.nombre===P[0]})))||void 0===t?void 0:t.subcuentas[0],cantidad:0,cantidadPagada:0,tipo:i,prestador:"",cuotas:1,cuotasPagadas:0,descripcion:"",estado:"pendiente"}),E=Object(o.a)(I,3),F=E[0],D=E[1],M=E[2];return n="nuevaCuenta"===F.cuenta?"-":null===(a=l.find((function(e){return e.nombre===F.cuenta})))||void 0===a?void 0:a.subcuentas,Object(Ye.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Ft(F);if(t.ok){if("nuevaCuenta"===F.cuenta){var a=Ft({nuevaCuenta:j,nuevaSubcuenta:O});if(!a.ok)return void N(a.msg);F.cuenta=j,F.subcuenta=O,u(Ce({nombre:j,subcuentas:[O]}))}if("nuevaCuenta"!==F.cuenta&&"nuevaSubcuenta"===F.subcuenta){var n=Ft(O);if(!n.ok)return void N(n.msg);F.subcuenta=O,u(ye({id:l.find((function(e){return e.nombre===F.cuenta})).id,nombre:F.cuenta,subcuentas:[].concat(Object(At.a)(l.find((function(e){return e.nombre===F.cuenta})).subcuentas),[O])}))}A?(u(ze(F)),h.a.fire("Nueva edici\xf3n","Movimiento editado correctamente","success")):(u(Fe(Object(ie.a)(Object(ie.a)({},F),{},{id:Date.now()}),"nuevoPrestamo")),h.a.fire("Nueva prestamo","Movimiento creado correctamente","success")),c(e)}else N(t.msg)},children:[Object(Ye.jsxs)("div",{className:"form-container",children:[Object(Ye.jsx)("h1",{children:A?"Editar movimiento":"Nuevo Prestamo"}),C&&Object(Ye.jsx)("div",{className:"msg-error",children:C}),Object(Ye.jsx)(It.a,{onChange:M,value:F.fecha,name:"fecha",format:"dd-MM-y",className:"calendar"}),Object(Ye.jsxs)("div",{className:"modal__section",children:[Object(Ye.jsx)("label",{htmlFor:"prestador",children:"Prestador: "}),Object(Ye.jsx)("div",{className:"prestador",children:Object(Ye.jsx)("input",{type:"text",name:"prestador",value:F.prestador,onChange:D,placeholder:"Nombre del prestador"})})]}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-principal",children:[Object(Ye.jsx)("label",{htmlFor:"cuenta",children:"Cuenta: "}),Object(Ye.jsxs)("select",{name:"cuenta",value:F.cuenta,onChange:D,children:[P.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaCuenta",children:"...nueva cuenta"})]}),"nuevaCuenta"===F.cuenta&&Object(Ye.jsx)("input",{value:j,onChange:function(e){return m(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva cuenta"})]}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-secundaria",children:[Object(Ye.jsx)("label",{htmlFor:"subcuenta",children:"Subcuenta: "}),Object(Ye.jsxs)("select",{name:"subcuenta",value:F.subcuenta,onChange:D,children:[Object(Ye.jsx)("option",{value:"-",children:"-"}),"nuevaCuenta"!==F.cuenta&&n.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaSubcuenta",children:"...nueva subcuenta"})]}),"nuevaSubcuenta"===F.subcuenta&&Object(Ye.jsx)("input",{value:O,onChange:function(e){return f(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva subcuenta"})]}),Object(Ye.jsxs)("div",{className:"modal__section ",children:[Object(Ye.jsx)("label",{htmlFor:"cantidad",children:"Cantidad: "}),Object(Ye.jsxs)("div",{className:"cantidad",children:["$",Object(Ye.jsx)("input",{type:"number",name:"cantidad",value:F.cantidad,onChange:D,placeholder:"1000",min:1})]})]}),Object(Ye.jsxs)("div",{className:"modal__section ",children:[Object(Ye.jsx)("label",{htmlFor:"cuotas",children:"Cuotas: "}),Object(Ye.jsx)("input",{type:"number",name:"cuotas",value:F.cuotas,onChange:D,placeholder:"1",min:1})]}),Object(Ye.jsx)(Tt,{formValues:F,isLoading:_,setIsLoading:k}),Object(Ye.jsx)("textarea",{className:"textarea",name:"descripcion",value:F.descripcion,onChange:D,placeholder:"Descripci\xf3n(opcional)"})]}),Object(Ye.jsxs)("div",{className:"botones",children:[Object(Ye.jsx)("button",{className:"btn boton-submit",disabled:!!_,type:"submit",children:"Guardar"}),Object(Ye.jsx)("button",{onClick:c,className:"btn btn-secondary boton-cancel",children:"Cancelar"}),A&&Object(Ye.jsx)("button",{onClick:function(e){e.preventDefault(),window.confirm("\xbfSeguro que desea eliminar el evento? No podra recupararlo despues")&&(u(Be(A.id)),c(e),h.a.fire("Eliminado","Movimiento eliminado correctamente","success"))},className:" btn btn-danger boton-eliminar",children:"Eliminar"})]})]})},Yt=function(e){var t=e.modo,a=e.handleClose,n=e.typeModal;return Object(Ye.jsxs)(Ye.Fragment,{children:["prestamo"===n&&("solo ver"===t?Object(Ye.jsx)(Qt,{}):Object(Ye.jsx)(Xt,{handleClose:a,typeModal:n})),"deudaACobrar"===n&&("solo ver"===t?Object(Ye.jsx)(Qt,{}):Object(Ye.jsx)(Ht,{handleClose:a}))]})},Zt=function(e){var t,a,n=e.handleClose,c=e.handleSubmit,r=e.handleDelete,o=e.activeMov,s=e.nombreCuentas,i=e.msgForm,u=e.handleChangeCalendar,l=e.formValues,d=e.handleChangeFrom,b=e.cuentas,j=e.handleChangeTo,m=e.nuevaCuentaFrom,p=e.setNuevaCuentaFrom,v=e.nuevaSubcuentaFrom,h=e.setNuevaSubcuentaFrom,O=e.nuevaSubcuentaTo,f=e.setNuevaSubcuentaTo,x=e.handleChange,g=e.isLoading,C=e.setIsLoading;return l.to.cuenta="Activos",l.tipo="compraActivos",t="nuevaCuenta"===l.to.cuenta?"-":b.find((function(e){return e.nombre===l.to.cuenta})).subcuentas,a="nuevaCuenta"===l.from.cuenta?"-":b.find((function(e){return e.nombre===l.from.cuenta})).subcuentas,Object(Ye.jsxs)("form",{onSubmit:c,className:"form__transferencia",children:[Object(Ye.jsxs)("div",{className:"form-container",children:[Object(Ye.jsx)("h1",{children:o?"Editar movimiento":"Comprar activo"}),i&&Object(Ye.jsx)("div",{className:"msg-error",children:i}),Object(Ye.jsx)(It.a,{onChange:u,value:l.fecha,name:"fecha",format:"dd-MM-y",className:"calendar"}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-principal",children:[Object(Ye.jsx)("label",{htmlFor:"cuenta",children:"Con cuenta: "}),Object(Ye.jsxs)("select",{name:"cuenta",value:l.from.cuenta,onChange:d,children:[s.filter((function(e){return"Activos"!==e})).map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaCuenta",children:"...nueva cuenta"})]}),"nuevaCuenta"===l.from.cuenta&&Object(Ye.jsx)("input",{value:m,onChange:function(e){return p(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva cuenta"})]}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-secundaria",children:[Object(Ye.jsx)("label",{htmlFor:"subcuenta",children:"Subcuenta: "}),Object(Ye.jsxs)("select",{name:"subcuenta",value:l.from.subcuenta,onChange:d,children:[Object(Ye.jsx)("option",{value:"-",children:"-"}),"nuevaCuenta"!==l.from.cuenta&&a.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaSubcuenta",children:"...nueva subcuenta"})]}),"nuevaSubcuenta"===l.from.subcuenta&&Object(Ye.jsx)("input",{value:v,onChange:function(e){return h(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva subcuenta"})]}),Object(Ye.jsx)("hr",{}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-secundaria",children:[Object(Ye.jsx)("label",{htmlFor:"subcuenta",children:"Activo a comprar: "}),Object(Ye.jsxs)("select",{name:"subcuenta",value:l.to.subcuenta,onChange:j,children:[Object(Ye.jsx)("option",{value:"-",children:"-"}),"nuevaCuenta"!==l.to.cuenta&&t.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaSubcuenta",children:"...nueva subcuenta"})]}),"nuevaSubcuenta"===l.to.subcuenta&&Object(Ye.jsx)("input",{value:O,onChange:function(e){return f(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva subcuenta"})]}),Object(Ye.jsxs)("div",{className:"modal__section cantidad",children:[Object(Ye.jsx)("label",{htmlFor:"cantidad",children:"Cantidad: "}),Object(Ye.jsxs)("div",{className:"cantidad",children:["$",Object(Ye.jsx)("input",{type:"number",name:"cantidad",value:l.cantidad,onChange:x,placeholder:"1000",min:1})]})]}),Object(Ye.jsx)(Tt,{formValues:l,isLoading:g,setIsLoading:C}),Object(Ye.jsx)("textarea",{className:"textarea",name:"descripcion",value:l.descripcion,onChange:x,placeholder:"Descripci\xf3n(opcional)"})]}),Object(Ye.jsxs)("div",{className:"botones",children:[Object(Ye.jsx)("button",{className:" btn boton-submit",disabled:!!g,type:"submit",children:"Guardar"}),Object(Ye.jsx)("button",{onClick:n,className:"btn btn-secondary boton-cancel",children:"Cancelar"}),o&&Object(Ye.jsx)("button",{onClick:r,className:" btn btn-danger boton-eliminar",children:"Eliminar"})]})]})},Jt=function(e){var t,a,n=e.handleClose,c=e.handleSubmit,r=e.handleDelete,o=e.activeMov,s=e.nombreCuentas,i=e.msgForm,u=e.handleChangeCalendar,l=e.formValues,d=e.handleChangeFrom,b=e.handleChangeTo,j=e.cuentas,m=e.nuevaCuentaTo,p=e.setNuevaCuentaTo,v=e.nuevaSubcuentaTo,h=e.setNuevaSubcuentaTo,O=e.handleChange,f=e.isLoading,x=e.setIsLoading;return l.from.cuenta="Activos",l.tipo="ventaActivos",t="nuevaCuenta"===l.from.cuenta?"-":j.find((function(e){return e.nombre===l.from.cuenta})).subcuentas,a="nuevaCuenta"===l.to.cuenta?"-":j.find((function(e){return e.nombre===l.to.cuenta})).subcuentas,Object(Ye.jsxs)("form",{onSubmit:c,className:"form__transferencia",children:[Object(Ye.jsxs)("div",{className:"form-container",children:[Object(Ye.jsx)("h1",{children:o?"Editar movimiento":"Vender activo"}),i&&Object(Ye.jsx)("div",{className:"msg-error",children:i}),Object(Ye.jsx)(It.a,{onChange:u,value:l.fecha,name:"fecha",format:"dd-MM-y",className:"calendar"}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-secundaria",children:[Object(Ye.jsx)("label",{htmlFor:"subcuenta",children:"Activo a vender: "}),Object(Ye.jsxs)("select",{name:"subcuenta",value:l.from.subcuenta,onChange:d,children:[Object(Ye.jsx)("option",{value:"-",children:"-"}),"nuevaCuenta"!==l.from.cuenta&&t.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)}))]})]}),Object(Ye.jsx)("hr",{}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-principal",children:[Object(Ye.jsx)("label",{htmlFor:"cuenta",children:"En que moneda se cobra: "}),Object(Ye.jsxs)("select",{name:"cuenta",value:l.to.cuenta,onChange:b,children:[s.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaCuenta",children:"...nueva cuenta"})]}),"nuevaCuenta"===l.to.cuenta&&Object(Ye.jsx)("input",{value:m,onChange:function(e){return p(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva cuenta"})]}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-secundaria",children:[Object(Ye.jsx)("label",{htmlFor:"subcuenta",children:"Subcuenta: "}),Object(Ye.jsxs)("select",{name:"subcuenta",value:l.to.subcuenta,onChange:b,children:[Object(Ye.jsx)("option",{value:"-",children:"-"}),"nuevaCuenta"!==l.to.cuenta&&a.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaSubcuenta",children:"...nueva subcuenta"})]}),"nuevaSubcuenta"===l.to.subcuenta&&Object(Ye.jsx)("input",{value:v,onChange:function(e){return h(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva subcuenta"})]}),Object(Ye.jsxs)("div",{className:"modal__section cantidad",children:[Object(Ye.jsx)("label",{htmlFor:"cantidad",children:"Cantidad: "}),Object(Ye.jsxs)("div",{className:"cantidad",children:["$",Object(Ye.jsx)("input",{type:"number",name:"cantidad",value:l.cantidad,onChange:O,placeholder:"1000",min:1})]})]}),Object(Ye.jsx)(Tt,{formValues:l,isLoading:f,setIsLoading:x}),Object(Ye.jsx)("textarea",{className:"textarea",name:"descripcion",value:l.descripcion,onChange:O,placeholder:"Descripci\xf3n(opcional)"})]}),Object(Ye.jsxs)("div",{className:"botones",children:[Object(Ye.jsx)("button",{className:" btn boton-submit",disabled:!!f,type:"submit",children:"Guardar"}),Object(Ye.jsx)("button",{onClick:n,className:"btn btn-secondary boton-cancel",children:"Cancelar"}),o&&Object(Ye.jsx)("button",{onClick:r,className:" btn btn-danger boton-eliminar",children:"Eliminar"})]})]})},Kt=function(){var e=Object(r.c)((function(e){return e.movs.activeMov})),t=e.cantidad,a=e.from,n=e.to,c=e.fecha,o=e.descripcion,s=e.url;return Object(Ye.jsxs)("div",{className:"detalle__form",children:[Object(Ye.jsx)("h1",{children:"Detalle transferencia"}),Object(Ye.jsxs)("section",{className:"detalle__section",children:[Object(Ye.jsxs)("h4",{children:["Tipo: ",Object(Ye.jsx)("span",{children:" Transferencia "})]}),Object(Ye.jsxs)("h4",{children:["Fecha: ",Object(Ye.jsx)("span",{children:c.toLocaleDateString()})]}),Object(Ye.jsxs)("h4",{children:["Cantidad: ",Object(Ye.jsxs)("span",{children:["$ ",Math.abs(t)]})]}),Object(Ye.jsxs)("h4",{children:["Desde cuenta: ",Object(Ye.jsxs)("span",{children:[a.subcuenta," (",a.cuenta,")"]})]}),Object(Ye.jsxs)("h4",{children:["A cuenta: ",Object(Ye.jsxs)("span",{children:[n.subcuenta," (",n.cuenta,")"]})]}),s&&Object(Ye.jsxs)("h4",{children:["Comprobante: ",Object(Ye.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:"Ver comprobante"})]}),Object(Ye.jsxs)("h4",{children:["Descripcion: ",Object(Ye.jsx)("span",{children:o})]})]})]})},Wt=function(e){var t,a,n=e.handleClose,c=e.handleSubmit,r=e.handleDelete,o=e.activeMov,s=e.nombreCuentas,i=e.msgForm,u=e.handleChangeCalendar,l=e.formValues,d=e.handleChangeFrom,b=e.handleChangeTo,j=e.cuentas,m=e.nuevaCuentaTo,p=e.setNuevaCuentaTo,v=e.nuevaSubcuentaTo,h=e.setNuevaSubcuentaTo,O=e.handleChange,f=e.isLoading,x=e.setIsLoading;return l.tipo="transferencia",t="nuevaCuenta"===l.to.cuenta?"-":j.find((function(e){return e.nombre===l.to.cuenta})).subcuentas,a="nuevaCuenta"===l.from.cuenta?"-":j.find((function(e){return e.nombre===l.from.cuenta})).subcuentas,Object(Ye.jsxs)("form",{onSubmit:c,className:"form__transferencia",children:[Object(Ye.jsxs)("div",{className:"form-container",children:[Object(Ye.jsx)("h1",{children:o?"Editar movimiento":"Nueva transferencia"}),i&&Object(Ye.jsx)("div",{className:"msg-error",children:i}),Object(Ye.jsx)(It.a,{onChange:u,value:l.fecha,name:"fecha",format:"dd-MM-y",className:"calendar"}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-principal",children:[Object(Ye.jsx)("label",{htmlFor:"cuenta",children:"Desde cuenta: "}),Object(Ye.jsx)("select",{name:"cuenta",value:l.from.cuenta,onChange:d,children:s.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)}))})]}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-secundaria",children:[Object(Ye.jsx)("label",{htmlFor:"subcuenta",children:"Subcuenta: "}),Object(Ye.jsxs)("select",{name:"subcuenta",value:l.from.subcuenta,onChange:d,children:[Object(Ye.jsx)("option",{value:"-",children:"-"}),"nuevaCuenta"!==l.from.cuenta&&a.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)}))]})]}),Object(Ye.jsx)("hr",{}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-principal",children:[Object(Ye.jsx)("label",{htmlFor:"cuenta",children:"A cuenta: "}),Object(Ye.jsxs)("select",{name:"cuenta",value:l.to.cuenta,onChange:b,children:[s.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaCuenta",children:"...nueva cuenta"})]}),"nuevaCuenta"===l.to.cuenta&&Object(Ye.jsx)("input",{value:m,onChange:function(e){return p(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva cuenta"})]}),Object(Ye.jsxs)("div",{className:"modal__section cuenta-secundaria",children:[Object(Ye.jsx)("label",{htmlFor:"subcuenta",children:"Subcuenta: "}),Object(Ye.jsxs)("select",{name:"subcuenta",value:l.to.subcuenta,onChange:b,children:[Object(Ye.jsx)("option",{value:"-",children:"-"}),"nuevaCuenta"!==l.to.cuenta&&t.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e},e)})),Object(Ye.jsx)("option",{value:"nuevaSubcuenta",children:"...nueva subcuenta"})]}),"nuevaSubcuenta"===l.to.subcuenta&&Object(Ye.jsx)("input",{value:v,onChange:function(e){return h(e.target.value)},autoFocus:!0,type:"text",placeholder:"Nueva subcuenta"})]}),Object(Ye.jsxs)("div",{className:"modal__section cantidad",children:[Object(Ye.jsx)("label",{htmlFor:"cantidad",children:"Cantidad: "}),Object(Ye.jsxs)("div",{className:"cantidad",children:["$",Object(Ye.jsx)("input",{type:"number",name:"cantidad",value:l.cantidad,onChange:O,placeholder:"1000",min:1})]})]}),Object(Ye.jsx)(Tt,{formValues:l,isLoading:f,setIsLoading:x}),Object(Ye.jsx)("textarea",{className:"textarea",name:"descripcion",value:l.descripcion,onChange:O,placeholder:"Descripci\xf3n(opcional)"})]}),Object(Ye.jsxs)("div",{className:"botones",children:[Object(Ye.jsx)("button",{className:" btn boton-submit",disabled:!!f,type:"submit",children:"Guardar"}),Object(Ye.jsx)("button",{onClick:n,className:"btn btn-secondary boton-cancel",children:"Cancelar"}),o&&Object(Ye.jsx)("button",{onClick:r,className:" btn btn-danger boton-eliminar",children:"Eliminar"})]})]})},ea=function(e){var t=e.handleClose,a=e.modo,n=e.typeModal,c=Object(r.b)(),i=Object(s.useState)(!1),u=Object(o.a)(i,2),l=u[0],d=u[1],b=Object(s.useState)(""),j=Object(o.a)(b,2),m=j[0],p=j[1],v=Object(s.useState)(""),O=Object(o.a)(v,2),f=O[0],x=O[1],g=Object(s.useState)(""),C=Object(o.a)(g,2),N=C[0],y=C[1],S=Object(s.useState)(""),_=Object(o.a)(S,2),k=_[0],w=_[1],A=Object(s.useState)(!1),P=Object(o.a)(A,2),I=P[0],E=P[1],F=Object(r.c)((function(e){return e.cuentas})).cuentas,D=Object(r.c)((function(e){return e.cats})).categorias,M=Dt(),T=M.nombreCuentas,L=M.activeMov,V=M.movs,U=Xe(L||{fecha:Date.now(),from:{cuenta:T[0],subcuenta:"-"},to:{cuenta:T[1],subcuenta:"-"},cantidad:0,descripcion:"",tipo:"",url:""}),R=Object(o.a)(U,5),z=R[0],G=R[1],B=R[2],$=R[3],q=R[4],H=function(e){e.preventDefault();var a=Ft(z);if(a.ok){if("nuevaCuenta"===z.to.cuenta){if(!Ft({nuevaCuenta:f,nuevaSubcuenta:k}).ok)return void E("Nuevos nombres de cuentas no v\xe1lidos");z.to.cuenta=f,z.to.subcuenta=k,c(Ce({nombre:f,subcuentas:[k]}))}if("nuevaCuenta"===z.from.cuenta){if(!Ft({nuevaCuenta:m,nuevaSubcuenta:N}).ok)return void E("Nuevos nombres de cuentas no v\xe1lidos");z.from.cuenta=m,z.from.subcuenta=N,c(Ce({nombre:m,subcuentas:[N]}))}if("nuevaCuenta"!==z.to.cuenta&&"nuevaSubcuenta"===z.to.subcuenta){if(!Ft(k).ok)return void E("Nuevos nombres de cuentas no v\xe1lidos");z.to.subcuenta=k,c(ye({id:F.find((function(e){return e.nombre===z.cuenta})).id,nombre:z.to.cuenta,subcuentas:[].concat(Object(At.a)(F.find((function(e){return e.nombre===z.to.cuenta})).subcuentas),[k])}))}if("nuevaCuenta"!==z.from.cuenta&&"nuevaSubcuenta"===z.from.subcuenta){if(!Ft(N).ok)return void E("Nuevos nombres de cuentas no v\xe1lidos");z.from.subcuenta=N,c(ye({id:F.find((function(e){return e.nombre===z.cuenta})).id,nombre:z.from.cuenta,subcuentas:[].concat(Object(At.a)(F.find((function(e){return e.nombre===z.from.cuenta})).subcuentas),[N])}))}if(L)c(ze(z)),h.a.fire("Nueva edici\xf3n","Movimiento editado correctamente","success");else{if("ventaActivos"===z.tipo){var n=ut(V,F,z.from.cuenta).find((function(e){return e.subcuenta===z.from.subcuenta})).cantidad,r=n-parseInt(z.cantidad);r<0&&(D.find((function(e){return"Ganancia por ventas"===e.nombre}))||c(je({nombre:"Ganancia por ventas",tipo:"ingreso",sector:"ventas"})),z.cantidad=n,c(Fe({id:Date.now(),cantidad:Math.abs(r),tipo:"ingreso",categoria:"Ganancia por ventas",cuenta:z.to.cuenta,subcuenta:z.to.subcuenta,fecha:Date.now(),comprobante:z.url,descripcion:"Venta de ".concat(z.from.subcuenta)},"nuevoIngreso")))}c(Fe(Object(ie.a)({},z),"nuevaTransferencia")),h.a.fire("Nuevo movimiento","Movimiento creado correctamente","success")}t(e)}else E(a.msg)},Q=function(e){e.preventDefault(),window.confirm("\xbfSeguro que desea eliminar el evento? No podra recupararlo despues")&&(c(Be(L.id)),t(e),h.a.fire("Eliminado","Movimiento eliminado correctamente","success"))};return Object(Ye.jsxs)(Ye.Fragment,{children:["solo ver"===a&&Object(Ye.jsx)(Kt,{}),"transferencia"===n&&("crear"===a||"editar"===a)&&Object(Ye.jsx)(Wt,{handleClose:t,handleSubmit:H,handleDelete:Q,activeMov:L,cuentas:F,nombreCuentas:T,msgForm:I,handleChangeCalendar:B,formValues:z,handleChangeFrom:$,handleChangeTo:q,nuevaCuentaTo:f,setNuevaCuentaTo:x,nuevaSubcuentaTo:k,setNuevaSubcuentaTo:w,handleChange:G,isLoading:l,setIsLoading:d}),"compraActivos"===n&&("crear"===a||"editar"===a)&&Object(Ye.jsx)(Zt,{handleClose:t,handleSubmit:H,handleDelete:Q,activeMov:L,cuentas:F,nombreCuentas:T,msgForm:I,handleChangeCalendar:B,formValues:z,handleChangeFrom:$,handleChangeTo:q,nuevaCuentaFrom:m,setNuevaCuentaFrom:p,nuevaSubcuentaFrom:N,setNuevaSubcuentaFrom:y,nuevaSubcuentaTo:k,setNuevaSubcuentaTo:w,handleChange:G,isLoading:l,setIsLoading:d}),"ventaActivos"===n&&("crear"===a||"editar"===a)&&Object(Ye.jsx)(Jt,{handleClose:t,handleSubmit:H,handleDelete:Q,activeMov:L,cuentas:F,nombreCuentas:T,msgForm:I,handleChangeCalendar:B,formValues:z,handleChangeFrom:$,handleChangeTo:q,nuevaCuentaTo:f,setNuevaCuentaTo:x,nuevaSubcuentaTo:k,setNuevaSubcuentaTo:w,handleChange:G,isLoading:l,setIsLoading:d})]})},ta=function(e){var t=e.handleClose,a=e.activeCat,n=Object(r.c)((function(e){return e.cats})).categorias,c=Object(r.b)(),i=Object(s.useState)(!1),u=Object(o.a)(i,2),l=u[0],d=u[1],b=Object(s.useState)({id:a.id,tipo:a.tipo,nombre:"",sector:n.find((function(e){return e.nombre===a.catNombre})).sector}),j=Object(o.a)(b,2),v=j[0],f=j[1],x=function(e){f(Object(ie.a)(Object(ie.a)({},v),{},Object(Qe.a)({},e.target.name,e.target.value)))};return Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsxs)("form",{className:"editar-categoria",onSubmit:function(e){e.preventDefault();var a,n=Ft({nuevaCategoria:v.nombre});n.ok?(c((a=v,function(){var e=Object(p.a)(m.a.mark((function e(t,n){var c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=n().auth.uid,delete(r=Object(ie.a)({},a)).id,e.next=6,Object(O.g)(Object(O.d)(C,"".concat(c,"/app/categorias/").concat(a.id)),r);case 6:t(pe(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}())),c(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a,n){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n().auth.uid,t.next=3,Object(O.e)(Object(O.b)(C,"".concat(c,"/app/movimientos")));case 3:t.sent.forEach((function(t){t.data().categoria===e.categoriaActual&&a(ze(Object(ie.a)(Object(ie.a)({},t.data()),{},{id:t.id,categoria:e.nuevaCategoria})))}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(v)),t(e),h.a.fire("Nombre actualizado a "+v.nombre,"Categoria actualizada correctamente","success")):d(n.msg)},children:[Object(Ye.jsxs)("div",{className:"form-container",children:[Object(Ye.jsx)("h1",{children:"Editar Categoria"}),l&&Object(Ye.jsx)("div",{className:"msg-error",children:l}),Object(Ye.jsxs)("section",{className:"modal__section",children:[Object(Ye.jsx)("label",{htmlFor:"categoriaActual",children:"Nombre actual: "}),Object(Ye.jsx)("h4",{children:a.catNombre})]}),Object(Ye.jsxs)("section",{className:"modal__section",children:[Object(Ye.jsx)("label",{htmlFor:"nombre",children:"Nuevo nombre: "}),Object(Ye.jsx)("input",{value:v.nombre,name:"nombre",onChange:x,type:"text",placeholder:"Nombre de la categoria"})]}),Object(Ye.jsxs)("section",{className:"modal__section",children:[Object(Ye.jsx)("label",{htmlFor:"sector",children:"Sector: "}),Object(Ye.jsx)("input",{name:"sector",value:v.sector,onChange:x,type:"text",placeholder:"Nuevo sector"})]})]}),Object(Ye.jsxs)("div",{className:"botones",children:[Object(Ye.jsx)("button",{className:" btn boton-submit",type:"submit",children:"Guardar"}),Object(Ye.jsx)("button",{onClick:t,className:"btn btn-secondary boton-cancel",children:"Cancelar"}),0===a.catCantidad&&Object(Ye.jsx)("button",{onClick:function(e){var n;(e.preventDefault(),0===a.catCantidad)&&(window.confirm("\xbfEstas seguro que deseas eliminar la categoria ".concat(a.catNombre," ?"))&&(c((n=v,console.log(n),function(){var e=Object(p.a)(m.a.mark((function e(t,a){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=a().auth.uid,e.next=4,Object(O.c)(Object(O.d)(C,"".concat(c,"/app/categorias/").concat(n.id)));case 4:t(he(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}())),h.a.fire("Categoria eliminada","La categoria ".concat(a.catNombre," ha sido borrada exitosamente"),"success")));t(e)},className:"btn btn-danger boton-eliminar",children:"Eliminar"})]})]})})},aa=function(e){var t=e.handleClose,a=e.cantidad,n=Object(r.b)(),c=Object(s.useState)(!1),i=Object(o.a)(c,2),u=i[0],l=i[1],d=Object(r.c)((function(e){return e.cuentas})).activeCuenta,b=Object(s.useState)(Object(ie.a)(Object(ie.a)({},d),{},{nuevaCuenta:""})),j=Object(o.a)(b,2),v=j[0],f=j[1];return Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsxs)("form",{className:"editar-cuenta",onSubmit:function(e){e.preventDefault();var a,c,r=Ft({nuevaCuenta:v.nuevaCuenta});r.ok?(n((a=v,function(){var e=Object(p.a)(m.a.mark((function e(t,n){var c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=n().auth.uid,delete(r=Object(ie.a)(Object(ie.a)({},a),{},{nombre:a.nuevaCuenta})).id,delete r.cantidad,delete r.nuevaCuenta,console.log(r),e.next=9,Object(O.g)(Object(O.d)(C,"".concat(c,"/app/cuentas/").concat(a.id)),r);case 9:t(_e(Object(ie.a)(Object(ie.a)({},r),{},{id:a.id}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}())),n((c=v,function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.uid,e.next=3,Object(O.e)(Object(O.b)(C,"".concat(n,"/app/movimientos")));case 3:e.sent.forEach((function(e){var a,n;e.data().cuenta===c.nombre&&t(ze(Object(ie.a)(Object(ie.a)({},e.data()),{},{id:e.id,cuenta:c.nuevaCuenta}))),(null===(a=e.data().from)||void 0===a?void 0:a.cuenta)===c.nombre&&t(ze(Object(ie.a)(Object(ie.a)({},e.data()),{},{id:e.id,from:Object(ie.a)(Object(ie.a)({},e.from),{},{cuenta:c.nuevaCuenta})}))),(null===(n=e.data().to)||void 0===n?void 0:n.cuenta)===c.nombre&&t(ze(Object(ie.a)(Object(ie.a)({},e.data()),{},{id:e.id,to:Object(ie.a)(Object(ie.a)({},e.to),{},{cuenta:c.nuevaCuenta})})))}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())),h.a.fire("Nombre actualizado a "+v.nuevaCuenta,"Cuenta actualizada correctamente","success"),t(e)):l(r.msg)},children:[Object(Ye.jsxs)("div",{className:"form-container",children:[Object(Ye.jsx)("h1",{children:"Editar Cuenta"}),u&&Object(Ye.jsx)("div",{className:"msg-error",children:u}),Object(Ye.jsxs)("section",{className:"modal__section",children:[Object(Ye.jsx)("label",{htmlFor:"cuentaActual",children:"Nombre actual cuenta: "}),Object(Ye.jsx)("h4",{children:d.nombre})]}),Object(Ye.jsxs)("section",{className:"modal__section",children:[Object(Ye.jsx)("label",{htmlFor:"nuevaCuenta",children:"Nueva cuenta: "}),Object(Ye.jsx)("input",{value:v.nuevaCuenta,onChange:function(e){f(Object(ie.a)(Object(ie.a)({},v),{},Object(Qe.a)({},e.target.name,e.target.value)))},type:"text",name:"nuevaCuenta",placeholder:"Nuevo nombre"})]})]}),Object(Ye.jsxs)("div",{className:"botones",children:[Object(Ye.jsx)("button",{className:" btn boton-submit",type:"submit",children:"Editar"}),Object(Ye.jsx)("button",{onClick:t,className:"btn btn-secondary boton-cancel",children:"Cancelar"}),0===a&&Object(Ye.jsx)("button",{onClick:function(e){var c;(e.preventDefault(),0===a)&&(window.confirm("\xbfEstas seguro que deseas eliminar la cuenta ".concat(d.nombre," ?"))&&n((c=d.id,function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a().auth.uid,e.next=4,Object(O.c)(Object(O.d)(C,"".concat(n,"/app/cuentas/").concat(c)));case 4:t(Ae(c)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}())));t(e),h.a.fire("Cuenta eliminada","La cuenta ".concat(d.nombre," ha sido borrada exitosamente"),"success")},className:"btn btn-danger boton-eliminar",children:"Eliminar"})]})]})})},na=function(e){var t,a=e.handleClose,n=e.nombreSubcuenta,c=e.nombreCuenta,i=e.cantidad,u=Object(r.b)(),l=Object(r.c)((function(e){return e.cuentas})).cuentas,d=Object(s.useState)(!1),b=Object(o.a)(d,2),j=b[0],v=b[1],f=Object(s.useState)({id:null===(t=l.find((function(e){return e.nombre===c})))||void 0===t?void 0:t.id,cuentaActual:c,subcuentaActual:n,nuevaSubcuenta:""}),x=Object(o.a)(f,2),g=x[0],N=x[1];return Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsxs)("form",{className:"editar-cuenta",onSubmit:function(e){e.preventDefault();var t,r=Ft({nuevaCuenta:g.nuevaSubcuenta});r.ok?(u((t=Object(ie.a)(Object(ie.a)({},g),{},{subcuentas:Object(At.a)(l.find((function(e){return e.nombre===c})).subcuentas.filter((function(e){return e!==n&&e})))}),function(){var e=Object(p.a)(m.a.mark((function e(a,n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=n().auth.uid,t.subcuentas.push(t.nuevaSubcuenta),e.next=5,Object(O.g)(Object(O.d)(C,"".concat(c,"/app/cuentas/").concat(t.id)),{nombre:t.cuentaActual,subcuentas:t.subcuentas});case 5:a(ke(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}())),u(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a,n){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n().auth.uid,t.next=3,Object(O.e)(Object(O.b)(C,"".concat(c,"/app/movimientos")));case 3:t.sent.forEach((function(t){var n,c,r,o;t.data().categoria===e.subcuentaActual&&a(ze(Object(ie.a)(Object(ie.a)({},t.data()),{},{id:t.id,categoria:e.nuevaSubcuenta}))),(t.data().cuenta===e.cuentaActual||(null===(n=t.data().from)||void 0===n?void 0:n.cuenta)===e.cuentaActual||(null===(c=t.data().to)||void 0===c?void 0:c.cuenta)===e.cuentaActual)&&(t.data().subcuenta===e.subcuentaActual&&a(ze(Object(ie.a)(Object(ie.a)({},t.data()),{},{id:t.id,subcuenta:e.nuevaSubcuenta}))),(null===(r=t.data().from)||void 0===r?void 0:r.subcuenta)===e.subcuentaActual&&a(ze(Object(ie.a)(Object(ie.a)({},t.data()),{},{id:t.id,from:Object(ie.a)(Object(ie.a)({},t.data().from),{},{subcuenta:e.nuevaSubcuenta})}))),(null===(o=t.data().to)||void 0===o?void 0:o.subcuenta)===e.subcuentaActual&&a(ze(Object(ie.a)(Object(ie.a)({},t.data()),{},{id:t.id,to:Object(ie.a)(Object(ie.a)({},t.data().to),{},{subcuenta:e.nuevaSubcuenta})}))))}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(g)),h.a.fire("Nombre actualizado a "+g.nuevaSubcuenta,"Cuenta actualizada correctamente","success"),a(e)):v(r.msg)},children:[Object(Ye.jsxs)("div",{className:"form-container",children:[Object(Ye.jsx)("h1",{children:"Editar Subcuenta"}),j&&Object(Ye.jsx)("div",{className:"msg-error",children:j}),Object(Ye.jsxs)("section",{className:"modal__section",children:[Object(Ye.jsx)("label",{htmlFor:"cuentaActual",children:"Nombre actual cuenta: "}),Object(Ye.jsx)("h4",{children:c})]}),Object(Ye.jsxs)("section",{className:"modal__section",children:[Object(Ye.jsx)("label",{htmlFor:"subcuentaActual",children:"Nombre actual subcuenta: "}),Object(Ye.jsx)("h4",{children:n})]}),Object(Ye.jsxs)("section",{className:"modal__section",children:[Object(Ye.jsx)("label",{htmlFor:"nuevaSubcuenta",children:"Nueva nombre: "}),Object(Ye.jsx)("input",{value:g.nuevaSubcuenta,onChange:function(e){e.preventDefault(),N(Object(ie.a)(Object(ie.a)({},g),{},Object(Qe.a)({},e.target.name,e.target.value)))},type:"text",name:"nuevaSubcuenta",placeholder:"Nuevo nombre"})]})]}),Object(Ye.jsxs)("div",{className:"botones",children:[Object(Ye.jsx)("button",{className:" btn boton-submit",type:"submit",children:"Editar"}),Object(Ye.jsx)("button",{onClick:a,className:"btn btn-secondary boton-cancel",children:"Cancelar"}),0===i&&Object(Ye.jsx)("button",{onClick:function(e){var t;(e.preventDefault(),0===i)&&(window.confirm("\xbfEstas seguro que deseas eliminar la subcuenta ".concat(g.subcuentaActual," ?"))&&(u((t=Object(ie.a)(Object(ie.a)({},g),{},{subcuentas:Object(At.a)(l.find((function(e){return e.nombre===c})).subcuentas.filter((function(e){return e!==n&&e})))}),console.log(t),function(){var e=Object(p.a)(m.a.mark((function e(a,n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=n().auth.uid,e.next=4,Object(O.g)(Object(O.d)(C,"".concat(c,"/app/cuentas/").concat(t.id)),{nombre:t.cuentaActual,subcuentas:t.subcuentas});case 4:a(Pe(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}())),h.a.fire("Cuenta eliminada","La subcuenta ".concat(g.subcuentaActual," ha sido borrada exitosamente"),"success")));a(e)},className:"btn btn-danger boton-eliminar",children:"Eliminar"})]})]})})},ca=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.modals})),a=t.isOpen,n=t.typeModal,c=t.modo,o=Object(r.c)((function(e){return e.cats})).activeCat,s=Object(r.c)((function(e){return e.cuentas})).activeCuenta,i=function(t){t.preventDefault(),e({type:L}),e({type:w}),e({type:ae}),e({type:Q})};return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"modal__background animate__animated animate__fadeIn animate__faster",onClick:i}),Object(Ye.jsxs)("div",{className:"modal__modal",children:[Object(Ye.jsx)("i",{onClick:i,className:"bi bi-x-lg"}),a&&"gasto"===n&&Object(Ye.jsx)(Bt,{handleClose:i,modo:c}),a&&"ingreso"===n&&Object(Ye.jsx)(qt,{handleClose:i,modo:c}),a&&"transferencia"===n&&Object(Ye.jsx)(ea,{handleClose:i,modo:c,typeModal:n}),a&&"deuda"===n&&Object(Ye.jsx)(Vt,{handleClose:i,modo:c}),(a&&"prestamo"===n||a&&"deudaACobrar"===n)&&Object(Ye.jsx)(Yt,{handleClose:i,modo:c,typeModal:n}),a&&"saldar deuda"===n&&Object(Ye.jsx)(Ut,{handleClose:i}),a&&"saldar prestamo"===n&&Object(Ye.jsx)(Rt,{handleClose:i}),a&&"editar categorias"===n&&Object(Ye.jsx)(ta,{handleClose:i,activeCat:o}),a&&"editar cuentas"===n&&Object(Ye.jsx)(aa,{handleClose:i,nombreCuenta:s.nomCuenta,cantidad:s.cantidad}),a&&"editar subcuentas"===n&&Object(Ye.jsx)(na,{handleClose:i,nombreSubcuenta:s.nomSubcuenta,nombreCuenta:s.nomCuenta,cantidad:s.cantidad}),a&&"compraActivos"===n&&Object(Ye.jsx)(ea,{handleClose:i,modo:c,typeModal:n}),a&&"ventaActivos"===n&&Object(Ye.jsx)(ea,{handleClose:i,modo:c,typeModal:n})]})]})},ra=function(e){var t=e.children,a=Object(r.c)((function(e){return e.modals})).isOpen,n=Object(r.c)((function(e){return e.auth})).uid;return Object(Ye.jsxs)("div",{children:[a&&Object(Ye.jsx)(ca,{}),n?t:Object(Ye.jsx)(l.a,{to:"/login"})]})},oa=function(e){var t=e.children;return Object(r.c)((function(e){return e.auth})).uid?Object(Ye.jsx)(l.a,{to:"/"}):t},sa=function(){return Object(Ye.jsx)("div",{className:"loading__screen",children:Object(Ye.jsxs)("h3",{children:["Cargando ",Object(Ye.jsx)("span",{children:"... "})]})})},ia=function(){var e=Object(r.b)(),t=Object(s.useState)(!0),a=Object(o.a)(t,2),n=a[0],c=a[1];return Object(s.useEffect)((function(){var t=Object(i.c)();Object(i.d)(t,(function(t){(null===t||void 0===t?void 0:t.uid)&&(e(qe(t.uid,t.displayName)),e(function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.uid,e.next=3,Ee(n);case 3:c=e.sent,t(Re(c));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),e(function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a().auth.uid,e.next=4,ue(n);case 4:c=e.sent,t(be(c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),e(function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a().auth.uid,e.next=4,Oe(n);case 4:c=e.sent,t(ge(c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}())),c(!1)}))})),n?Object(Ye.jsx)(sa,{}):Object(Ye.jsx)(u.a,{children:Object(Ye.jsxs)(l.d,{children:[Object(Ye.jsx)(l.b,{path:"/*",element:Object(Ye.jsx)(ra,{children:Object(Ye.jsx)(kt,{})})}),Object(Ye.jsx)(l.b,{path:"/login/*",element:Object(Ye.jsx)(oa,{children:Object(Ye.jsx)(Ke,{})})})]})})},ua=a(44),la=a(84),da={categorias:[],isEditing:!1,activeCat:null},ba={cuentas:[],isEditing:!1,activeCuenta:null},ja={isOpen:!1,typeModal:null,modo:""},ma={activeMov:null,movs:[]},pa={uid:null,name:null},va={pares:[{nombre:"USD/ARS",valor:1},{nombre:"BTC/ARS",valor:1},{nombre:"BTC/USD",valor:1}]},ha="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ua.c,Oa=Object(ua.b)({movs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(ie.a)(Object(ie.a)({},e),{},{movs:t.payload});case y:case S:case _:return Object(ie.a)(Object(ie.a)({},e),{},{movs:[t.payload].concat(Object(At.a)(e.movs))});case k:return Object(ie.a)(Object(ie.a)({},e),{},{activeMov:Object(ie.a)({},t.payload)});case w:return Object(ie.a)(Object(ie.a)({},e),{},{activeMov:null});case A:return Object(ie.a)(Object(ie.a)({},e),{},{movs:e.movs.map((function(e){return e.id!==t.payload.id?e:t.payload}))});case P:return Object(ie.a)(Object(ie.a)({},e),{},{movs:e.movs.filter((function(e){return e.id!==t.payload&&e}))});case I:case E:return Object(ie.a)(Object(ie.a)({},e),{},{movs:[t.payload].concat(Object(At.a)(e.movs))});case F:return Object(ie.a)(Object(ie.a)({},e),{},{movs:e.movs.map((function(e){return e.categoria===t.payload.categoriaActual?Object(ie.a)(Object(ie.a)({},e),{},{categoria:t.payload.nuevaCategoria,sector:t.payload.sector}):e}))});case D:return Object(ie.a)(Object(ie.a)({},e),{},{movs:[],activeMov:null});default:return e}},modals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(ie.a)(Object(ie.a)({},e),{},{isOpen:!0,typeModal:t.payload.tipo,modo:t.payload.modo,title:t.payload.title});case L:return Object(ie.a)(Object(ie.a)({},e),{},{isOpen:!1,typeModal:null,modo:"",title:null});default:return e}},cats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(ie.a)(Object(ie.a)({},e),{},{categorias:t.payload});case Z:return Object(ie.a)(Object(ie.a)({},e),{},{categorias:[].concat(Object(At.a)(e.categorias),[t.payload])});case K:return Object(ie.a)(Object(ie.a)({},e),{},{categorias:e.categorias.map((function(e){return e.id===t.payload.id?t.payload:e}))});case W:return Object(ie.a)(Object(ie.a)({},e),{},{isEditing:!0});case ee:return Object(ie.a)(Object(ie.a)({},e),{},{isEditing:!1});case J:return Object(ie.a)(Object(ie.a)({},e),{},{categorias:e.categorias.filter((function(e){return e.id!==t.payload.id&&e}))});case te:return Object(ie.a)(Object(ie.a)({},e),{},{activeCat:t.payload});case ae:return Object(ie.a)(Object(ie.a)({},e),{},{activeCat:null});case ne:return Object(ie.a)(Object(ie.a)({},e),{},{categorias:[],isEditing:!1,activeCat:null});default:return e}},cuentas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(ie.a)(Object(ie.a)({},e),{},{cuentas:t.payload});case V:return Object(ie.a)(Object(ie.a)({},e),{},{cuentas:[].concat(Object(At.a)(e.cuentas),[t.payload])});case z:return Object(ie.a)(Object(ie.a)({},e),{},{cuentas:e.cuentas.map((function(e){return e.nombre===t.payload.nombre?t.payload:e}))});case R:return console.log(t.payload),Object(ie.a)(Object(ie.a)({},e),{},{cuentas:e.cuentas.map((function(e){return e.id===t.payload.id?t.payload:e}))});case B:return Object(ie.a)(Object(ie.a)({},e),{},{cuentas:e.cuentas.map((function(e){return e.nombre!==t.payload.cuentaActual?e:Object(ie.a)(Object(ie.a)({},e),{},{subcuentas:e.subcuentas.map((function(e){return e===t.payload.subcuentaActual?t.payload.nuevaSubcuenta:e}))})}))});case $:return Object(ie.a)(Object(ie.a)({},e),{},{isEditing:!0});case q:return Object(ie.a)(Object(ie.a)({},e),{},{isEditing:!1});case U:return Object(ie.a)(Object(ie.a)({},e),{},{cuentas:e.cuentas.filter((function(e){return e.id!==t.payload&&e}))});case G:return Object(ie.a)(Object(ie.a)({},e),{},{cuentas:e.cuentas.map((function(e){return e.nombre!==t.payload.cuentaActual?e:Object(ie.a)(Object(ie.a)({},e),{},{subcuentas:t.payload.subcuentas})}))});case H:return Object(ie.a)(Object(ie.a)({},e),{},{activeCuenta:t.payload});case Q:return Object(ie.a)(Object(ie.a)({},e),{},{activeCuenta:null});case X:return Object(ie.a)(Object(ie.a)({},e),{},{cuentas:[],isEditing:!1,activeCuenta:null});default:return e}},pares:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,t=arguments.length>1?arguments[1]:void 0;return t.type===re?Object(ie.a)(Object(ie.a)({},e),{},{pares:t.payload}):e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(ie.a)(Object(ie.a)({},e),{},{uid:t.payload.uid,name:t.payload.userName});case se:return Object(ie.a)(Object(ie.a)({},e),{},{uid:null,name:null});default:return e}}}),fa=Object(ua.d)(Oa,ha(Object(ua.a)(la.a)));var xa=function(){return Object(Ye.jsx)(r.a,{store:fa,children:Object(Ye.jsx)(ia,{})})};a(209);c.a.render(Object(Ye.jsx)(xa,{}),document.getElementById("root"))}},[[210,1,2]]]);
//# sourceMappingURL=main.b56fb98e.chunk.js.map